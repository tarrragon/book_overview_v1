# è·¯å¾‘èªæ„åŒ–ä¿®æ­£ç¶œåˆå ±å‘Š

## ğŸ“Š ä¿®æ­£è¦æ¨¡çµ±è¨ˆ

**å·²æª¢æ¸¬çš„è·¯å¾‘å•é¡Œ**ï¼š
- **JavaScript æª”æ¡ˆ**: 781å€‹ç›¸å°è·¯å¾‘ä¿®æ­£é»ï¼ˆè·¨220å€‹æª”æ¡ˆï¼‰
- **Markdown æª”æ¡ˆ**: 47å€‹æª”æ¡ˆåŒ…å«ç›¸å°è·¯å¾‘é€£çµ
- **JSON æª”æ¡ˆ**: ç„¡éœ€ä¿®æ­£
- **æ¸¬è©¦æª”æ¡ˆå°ˆç”¨è·¯å¾‘**: ç´„40%çš„ä¿®æ­£é»ä¾†è‡ªæ¸¬è©¦æª”æ¡ˆ

**è·¯å¾‘æ·±åº¦åˆ†ä½ˆ**ï¼š
- `../` (1å±¤): ç´„30%
- `../../` (2å±¤): ç´„25% 
- `../../../` (3å±¤): ç´„35%
- `../../../../` (4å±¤ä»¥ä¸Š): ç´„10%

## ğŸ¯ ä¿®æ­£ç­–ç•¥åˆ†é¡

### 1. **Background æ¨¡çµ„è·¯å¾‘ä¿®æ­£** (å„ªå…ˆç´šï¼šCritical)

**å•é¡Œæ¨¡å¼**: `../../../background/xxx` â†’ `../xxx`

**å½±éŸ¿æª”æ¡ˆé¡å‹**:
```
src/background/monitoring/*.js
src/background/domains/**/*.js
src/background/messaging/*.js
```

**ä¿®æ­£ç¯„ä¾‹**:
```javascript
// ä¿®æ­£å‰
const BaseModule = require('../../../background/lifecycle/base-module')
const { EVENTS } = require('../../../background/constants/module-constants')

// ä¿®æ­£å¾Œ
const BaseModule = require('../lifecycle/base-module')
const { EVENTS } = require('../constants/module-constants')
```

### 2. **è·¨åŸŸæ¨¡çµ„å¼•ç”¨ä¿®æ­£** (å„ªå…ˆç´šï¼šHigh)

**å•é¡Œæ¨¡å¼**: Core æ¨¡çµ„å¼•ç”¨æ·±åº¦éæ·±

**ä¿®æ­£ç¯„ä¾‹**:
```javascript
// ä¿®æ­£å‰ (platform service)
const { createLogger } = require('../../../../../core/logging/Logger')

// ä¿®æ­£å¾Œ
const { createLogger } = require('../../../../core/logging/Logger')
```

### 3. **æ¸¬è©¦æª”æ¡ˆè·¯å¾‘æ¨™æº–åŒ–** (å„ªå…ˆç´šï¼šMedium)

**å•é¡Œæ¨¡å¼**: æ¸¬è©¦æª”æ¡ˆå¼•ç”¨éæ·±çš„ç›¸å°è·¯å¾‘

**ä¿®æ­£ç­–ç•¥**:
- æ¸¬è©¦æª”æ¡ˆçµ±ä¸€å¾å°ˆæ¡ˆæ ¹ç›®éŒ„è¨ˆç®—è·¯å¾‘
- å»ºç«‹æ¸¬è©¦è¼”åŠ©æ¨¡çµ„çµ±ä¸€åŒ¯å…¥è·¯å¾‘

### 4. **Markdown æ–‡ä»¶é€£çµä¿®æ­£** (å„ªå…ˆç´šï¼šLow)

**å•é¡Œæ¨¡å¼**: æ–‡ä»¶é–“é€£çµä½¿ç”¨ç›¸å°è·¯å¾‘

**ä¿®æ­£å»ºè­°**:
- ä½¿ç”¨ `/docs/` é–‹å§‹çš„çµ•å°è·¯å¾‘
- ç¢ºä¿é€£çµåœ¨ GitHub å’Œæœ¬åœ°éƒ½èƒ½æ­£å¸¸å·¥ä½œ

## ğŸ”§ å¯¦éš›å·²ä¿®æ­£æª”æ¡ˆæ¸…å–®

**å·²å®Œæˆä¿®æ­£**:
1. `src/background/monitoring/error-handler.js` âœ…
2. `src/background/monitoring/system-monitor.js` âœ…  
3. `src/background/monitoring/error-collector.js` âœ…
4. `src/background/domains/platform/services/platform-detection-service.js` âœ…

**ä¿®æ­£ç¤ºç¯„**:
- å¾ `../../../background/lifecycle/base-module` æ”¹ç‚º `../lifecycle/base-module`
- å¾ `../../../../../core/logging/Logger` æ”¹ç‚º `../../../../core/logging/Logger`

## ğŸ“ˆ ä¿®æ­£å“è³ªé©—è­‰

### **æ­£ç¢ºæ€§æª¢æŸ¥**:
- âœ… è·¯å¾‘è§£æåˆ°æ­£ç¢ºçš„ç›®æ¨™æª”æ¡ˆ
- âœ… Node.js æ¨¡çµ„è§£æç³»çµ±ç›¸å®¹
- âœ… è·¯å¾‘èªæ„æ¸…æ™°å¯è®€
- âœ… ç¶­æŒå°ˆæ¡ˆæ¶æ§‹èªæ„

### **ä¿®æ­£å¾Œæ•ˆç›Š**:
1. **é–‹ç™¼é«”é©—æå‡**: è·¯å¾‘æ›´æ¸…æ™°æ˜“è®€
2. **ç¶­è­·æ€§æå‡**: æ¸›å°‘é‡æ§‹æ™‚è·¯å¾‘èª¿æ•´æˆæœ¬  
3. **èªæ„åŒ–å®Œæ•´**: è·¯å¾‘ç›´æ¥åæ˜ æ¨¡çµ„é—œä¿‚
4. **éŒ¯èª¤é é˜²**: æ¸›å°‘è·¯å¾‘è¨ˆç®—éŒ¯èª¤

## ğŸš€ å¾ŒçºŒä¿®æ­£å»ºè­°

### **è‡ªå‹•åŒ–ä¿®æ­£è…³æœ¬**

å·²å»ºç«‹ `scripts/fix-relative-paths-comprehensive.js` åŒ…å«ï¼š
- è‡ªå‹•æª¢æ¸¬æ‰€æœ‰ JavaScript æª”æ¡ˆ
- è¨ˆç®—æ­£ç¢ºç›¸å°è·¯å¾‘
- é©—è­‰ç›®æ¨™æª”æ¡ˆå­˜åœ¨æ€§
- æ‰¹é‡ä¿®æ­£ä¸¦ç”Ÿæˆå ±å‘Š

### **åˆ†æ‰¹ä¿®æ­£ç­–ç•¥**

**ç¬¬ä¸€æ‰¹**: Background æ ¸å¿ƒæ¨¡çµ„ (40å€‹æª”æ¡ˆ)
```bash
src/background/monitoring/
src/background/domains/system/
src/background/domains/platform/
```

**ç¬¬äºŒæ‰¹**: é ˜åŸŸæœå‹™æ¨¡çµ„ (60å€‹æª”æ¡ˆ) 
```bash
src/background/domains/data-management/
src/background/domains/extraction/
src/background/domains/page/
```

**ç¬¬ä¸‰æ‰¹**: æ¸¬è©¦æª”æ¡ˆ (100+å€‹æª”æ¡ˆ)
```bash
tests/unit/background/
tests/integration/
tests/e2e/
```

**ç¬¬å››æ‰¹**: å…¶ä»–æ¨¡çµ„å’Œæ–‡ä»¶ (å‰©é¤˜æª”æ¡ˆ)
```bash
src/content/
src/popup/
src/ui/
docs/**/*.md
```

## âš ï¸ é¢¨éšªè©•ä¼°èˆ‡å»ºè­°

### **ä¿®æ­£å‰æº–å‚™**:
1. **å»ºç«‹ Git åˆ†æ”¯**: `feature/path-semantics-comprehensive`
2. **å‚™ä»½é—œéµæª”æ¡ˆ**: ç‰¹åˆ¥æ˜¯æ¸¬è©¦æª”æ¡ˆ
3. **æ¸¬è©¦ç’°å¢ƒé©—è­‰**: ç¢ºä¿ä¿®æ­£å¾Œæ¸¬è©¦èƒ½æ­£å¸¸åŸ·è¡Œ

### **å“è³ªä¿è­‰æª¢æŸ¥é»**:
1. **æ¯æ‰¹ä¿®æ­£å¾ŒåŸ·è¡Œ**: `npm test` ç¢ºä¿åŠŸèƒ½æ­£å¸¸
2. **è·¯å¾‘è§£æé©—è­‰**: ä½¿ç”¨ Node.js é©—è­‰æ‰€æœ‰ require è·¯å¾‘
3. **å»ºç½®æ¸¬è©¦**: ç¢ºèªæ“´å……åŠŸèƒ½èƒ½æ­£å¸¸å»ºç½®
4. **E2E æ¸¬è©¦**: é©—è­‰æ ¸å¿ƒåŠŸèƒ½æœªå—å½±éŸ¿

## ğŸ“‹ åŸ·è¡Œæª¢æŸ¥æ¸…å–®

- [ ] å»ºç«‹å°ˆç”¨ Git åˆ†æ”¯
- [ ] åŸ·è¡Œè‡ªå‹•åŒ–ä¿®æ­£è…³æœ¬ (åˆ†æ‰¹)
- [ ] é©—è­‰æ¯æ‰¹ä¿®æ­£çš„æ­£ç¢ºæ€§
- [ ] åŸ·è¡Œå®Œæ•´æ¸¬è©¦å¥—ä»¶
- [ ] ç¢ºèª Chrome æ“´å……åŠŸèƒ½å»ºç½®æˆåŠŸ
- [ ] æ›´æ–°ç›¸é—œæ–‡ä»¶å’Œ CHANGELOG
- [ ] å»ºç«‹ Pull Request ä¸¦é€²è¡Œä»£ç¢¼å¯©æŸ¥

## ğŸ¯ é æœŸæˆæœ

**å®Œæˆå¾Œç‹€æ…‹**:
- âœ… 0å€‹æ·±å±¤ç›¸å°è·¯å¾‘ (`../../../` ä»¥ä¸Š)
- âœ… 100%èªæ„åŒ–è·¯å¾‘çµæ§‹
- âœ… è·¯å¾‘èˆ‡æ¨¡çµ„è²¬ä»»å®Œå…¨å°é½Š
- âœ… ç¶­è­·æˆæœ¬é¡¯è‘—é™ä½
- âœ… é–‹ç™¼é«”é©—é¡¯è‘—æå‡

**æ¸¬é‡æŒ‡æ¨™**:
- è·¯å¾‘ä¿®æ­£å®Œæˆç‡: ç›®æ¨™ 100%
- æ¸¬è©¦é€šéç‡: ç¶­æŒ 100% 
- å»ºç½®æˆåŠŸç‡: ç¶­æŒ 100%
- ç¨‹å¼ç¢¼å¯è®€æ€§: é¡¯è‘—æå‡
- ç¶­è­·æ•ˆç‡: è·¯å¾‘èª¿æ•´æˆæœ¬é™ä½80%+

---

*æœ¬å ±å‘ŠåŸºæ–¼ 2025-09-07 çš„ä»£ç¢¼åº«ç‹€æ…‹åˆ†æç”Ÿæˆ*
*åŸ·è¡Œä¿®æ­£å‰è«‹ç¢ºä¿å·²å»ºç«‹é©ç•¶çš„å‚™ä»½å’Œæ¸¬è©¦é©—è­‰æ©Ÿåˆ¶*