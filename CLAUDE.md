# CLAUDE.md

æœ¬æ–‡ä»¶ç‚º Claude Code (claude.ai/code) åœ¨æ­¤å°ˆæ¡ˆä¸­çš„é–‹ç™¼æŒ‡å°è¦ç¯„ã€‚

## ğŸš¨ ä»»ä½•è¡Œå‹•å‰çš„å¼·åˆ¶æª¢æŸ¥æ¸…å–®

**ğŸ’¡ è¨˜æ†¶å£è¨£**: æ¸¬è©¦å…ˆè¡Œï¼Œå•é¡Œå¿…è§£ï¼Œæ¶æ§‹ç‚ºç‹ï¼Œå“è³ªä¸å¦¥å”

### ä¸‰å¤§ä¸å¯é•åçš„éµå¾‹

1. **æ¸¬è©¦é€šéç‡éµå¾‹**  
   **100% é€šéç‡æ˜¯æœ€ä½æ¨™æº–**
   - ä»»ä½•æ¸¬è©¦å¤±æ•— = ç«‹å³ä¿®æ­£ï¼Œå…¶ä»–å·¥ä½œå…¨éƒ¨æš«åœ
   - ä¸å­˜åœ¨ã€Œå¤ å¥½çš„é€šéç‡ã€ï¼Œåªæœ‰ 100% æˆ–å¤±æ•—

2. **æ°¸ä¸æ”¾æ£„éµå¾‹**  
   **æ²’æœ‰ç„¡æ³•è§£æ±ºçš„å•é¡Œ**
   - é‡åˆ°è¤‡é›œå•é¡Œ â†’ è¨­è¨ˆå¸«åˆ†æ â†’ åˆ†è§£ â†’ é€ä¸€è§£æ±º
   - ç¦ç”¨è©å½™ï¼šã€Œå¤ªè¤‡é›œã€ã€Œæš«æ™‚ã€ã€Œè·³éã€ã€Œä¹‹å¾Œå†æ”¹ã€

3. **æ¶æ§‹å‚µå‹™é›¶å®¹å¿éµå¾‹**  
   **æ¶æ§‹å•é¡Œ = ç«‹å³åœæ­¢åŠŸèƒ½é–‹ç™¼**
   - ç™¼ç¾è¨­è¨ˆç¼ºé™· â†’ ç«‹å³ä¿®æ­£ â†’ ç¹¼çºŒé–‹ç™¼
   - ä¿®å¾©æˆæœ¬éš¨æ™‚é–“æŒ‡æ•¸å¢é•·ï¼Œç«‹å³è™•ç†æ˜¯å”¯ä¸€é¸æ“‡

### âš¡ 30ç§’å¿«é€Ÿæª¢æŸ¥

- [ ] æ¸¬è©¦é€šéç‡æ˜¯å¦ 100%ï¼Ÿä¸æ˜¯å‰‡ç«‹å³ä¿®æ­£
- [ ] æ˜¯å¦æƒ³è·³é/æš«ç·©ä»»ä½•å•é¡Œï¼Ÿé•åæ°¸ä¸æ”¾æ£„åŸå‰‡
- [ ] æ˜¯å¦ç™¼ç¾æ¶æ§‹å‚µå‹™ï¼Ÿç«‹å³åœæ­¢åŠŸèƒ½é–‹ç™¼å„ªå…ˆä¿®æ­£

### ğŸ“š æ ¸å¿ƒè¦ç¯„å¿«é€Ÿå°è¦½

**æ—¥å¸¸é–‹ç™¼å¿…è®€**ï¼š
- [ğŸ¤ TDD å”ä½œé–‹ç™¼æµç¨‹](docs/workflows/tdd-collaboration-flow.md) - å››éšæ®µé–‹ç™¼æµç¨‹
- [ğŸ“š å°ˆæ¡ˆæ–‡ä»¶è²¬ä»»æ˜ç¢ºå€åˆ†](docs/guidelines/document-responsibilities.md) - æ–‡ä»¶å¯«ä½œè¦ç¯„
- [ğŸ¤– Agent å”ä½œè¦ç¯„](docs/workflows/agent-collaboration.md) - Sub-agent ä½¿ç”¨æŒ‡å—

**å°ˆæ¡ˆç‰¹å®šè¦ç¯„**ï¼š
- [ğŸ“¦ Chrome Extension èˆ‡å°ˆæ¡ˆè¦ç¯„](docs/project/chrome-extension-specs.md) - å¹³å°ç‰¹å®šè¦æ±‚
- [ğŸ­ äº‹ä»¶é©…å‹•æ¶æ§‹è¦ç¯„](docs/architecture/event-driven-architecture.md) - æ¶æ§‹æ¨¡å¼æŒ‡å¼•

### ğŸ” è©³ç´°åŸ·è¡ŒæŒ‡å°

- [ğŸš¨ é•è¦è­¦å ±èˆ‡é é˜²](docs/guidelines/violation-prevention.md)
- [ğŸ“‹ é—œéµæƒ…å¢ƒæ±ºç­–æµç¨‹](docs/guidelines/decision-workflows.md)
- [ğŸ” è‡ªæˆ‘ç›£æ§èˆ‡ç³¾éŒ¯æ©Ÿåˆ¶](docs/guidelines/self-monitoring.md)

---

## ğŸ“– æ–‡ä»¶é©…å‹•é–‹ç™¼æµç¨‹

### æ•æ·æ©Ÿåˆ¶æ ¸å¿ƒè¦æ±‚

- **ä»»å‹™è¨­è¨ˆèˆ‡åˆ†æ´¾**: é è¨­ç›®æ¨™ç‚ºã€Œæœ€å°ã€æœ€å¿«å¯äº¤ä»˜ã€ï¼ˆMVPï¼‰
- **éšæ®µæ€§äº¤ä»˜**: å°‡å¤§å‹é‡æ§‹åˆ†è§£æˆå°å‹ã€å¯é©—è­‰çš„äº¤ä»˜éšæ®µ
- **é«˜é »å·¥ä½œæ—¥èªŒæ›´æ–°**: å·¥ä½œæ—¥èªŒä½œç‚ºç«™ç«‹æœƒè­°ï¼Œé«˜é »æ›´æ–°é€²åº¦ã€é˜»ç¤™èˆ‡æ±ºç­–
- **ç¨‹å¼ç¢¼å”ä½œæ¨™è¨»**: ä½¿ç”¨ `//todo:` æ¨™è¨»å”ä½œæºé€šå’Œæ”¹å–„æ–¹å‘
- **æ–‡ä»¶åŒæ­¥æ›´æ–°**: ç¨‹å¼ç¢¼è®Šæ›´å¾Œç«‹å³æ›´æ–°ç›¸é—œæ–‡ä»¶ï¼ŒåŒ…æ‹¬å·¥ä½œæ—¥èªŒå’Œç‰ˆæœ¬è¨˜éŒ„

### æŠ€è¡“æ–‡ä»¶å¯«ä½œè¦ç¯„

**å‹™å¯¦è¨˜éŒ„é¢¨æ ¼**ï¼šä½¿ç”¨å…·é«”æ•¸æ“šå’Œå®¢è§€æè¿°ï¼Œé¿å…èª‡å¤§ç”¨èª

- âœ… åŠŸèƒ½æ€§æè¿°ï¼š"å¯¦ä½œäº† 5å±¤é©—è­‰ç­–ç•¥"
- âœ… é‡åŒ–æ•ˆæœï¼š"æ¸¬è©¦é€šéç‡å¾ 92% æå‡åˆ° 100%"
- âŒ èª‡é£¾ç”¨èªï¼š"å®Œç¾è§£æ±º"ã€"å“è¶Šè¡¨ç¾"ã€"ä¼æ¥­ç´š"

---

## ğŸ— æ¶æ§‹å‚µå‹™ç®¡ç†æ ¸å¿ƒåŸå‰‡

**æ ¸å¿ƒåŸå‰‡**: æ¶æ§‹å•é¡Œå’Œè¨­è¨ˆå‚µå‹™æ˜¯ç¬¬ä¸€å„ªå…ˆä¿®æ­£ç›®æ¨™ï¼Œçµ•ä¸å¯ã€Œå…ˆå°‡å°±ã€æˆ–ã€Œä¹‹å¾Œå†è™•ç†ã€

### ğŸš¨ ç«‹å³è™•ç†åŸå‰‡

1. **æ¶æ§‹å•é¡Œç™¼ç¾ = ç«‹å³ä¿®æ­£**: ä¸€æ—¦è­˜åˆ¥å‡ºæ¶æ§‹å‚µå‹™ï¼Œç«‹å³åœæ­¢åŠŸèƒ½é–‹ç™¼ï¼Œå„ªå…ˆä¿®æ­£
2. **ä¿®å¾©æˆæœ¬æœƒæŒ‡æ•¸å¢é•·**: æ¶æ§‹å•é¡Œæ‹–å»¶ä¿®å¾©çš„æˆæœ¬éš¨æ™‚é–“å‘ˆæŒ‡æ•¸å¢é•·
3. **çµ•ä¸å¦¥å”çš„å“è³ªæ¨™æº–**: å¯§å¯å»¶é²åŠŸèƒ½ç™¼å¸ƒï¼Œä¹Ÿä¸å…è¨±æŠ€è¡“å‚µå‹™ç´¯ç©
4. **æ ¹æœ¬åŸå› å¿…é ˆå¾¹åº•è§£æ±º**: ä¸æ¥å—ã€Œæš«æ™‚æ€§ä¿®æ­£ã€æˆ–ã€Œç—‡ç‹€ç·©è§£ã€

### ğŸ” æ¶æ§‹å‚µå‹™åˆ†é¡èˆ‡å„ªå…ˆç´š

**ğŸ”´ Critical (å¿…é ˆç«‹å³åœæ­¢é–‹ç™¼ä¿®æ­£)**:
- é•å SOLID åŸå‰‡çš„è¨­è¨ˆ
- æ¨¡çµ„é–“é«˜è€¦åˆæˆ–å¾ªç’°ä¾è³´
- ä¸ä¸€è‡´çš„éŒ¯èª¤è™•ç†æ¨¡å¼
- æ¸¬è©¦å›°é›£æˆ–ç„¡æ³•æ¸¬è©¦çš„ç¨‹å¼ç¢¼

**ğŸŸ¡ High (ä¸‹ä¸€å€‹TDDå¾ªç’°å‰å¿…é ˆä¿®æ­£)**:
- ç¨‹å¼ç¢¼é‡è¤‡è¶…é 3 æ¬¡
- å‡½æ•¸è¶…é 30 è¡Œ
- æ¨¡çµ„è²¬ä»»ä¸æ˜ç¢º

### ç¨‹å¼ç¢¼å“è³ªè¦ç¯„

**æª”æ¡ˆè·¯å¾‘è¦ç¯„ (å¼·åˆ¶è¦æ±‚)**:
- **å®Œæ•´è·¯å¾‘åç¨±**: æ¯å€‹è³‡æ–™å¤¾éƒ½æ˜ç¢ºå¯«å‡ºå¯¦éš›åç¨±ï¼Œè®“domainçµæ§‹ä¸€ç›®äº†ç„¶
- **ç¦æ­¢ç›¸å°æ·±åº¦**: çµ•ä¸ä½¿ç”¨ `../../../` ç­‰ç›¸å°æ·±åº¦è¨ˆç®—æ–¹å¼

**Five Lines è¦å‰‡**:
- æ¯å€‹æ–¹æ³•ä¸æ‡‰è¶…é5è¡Œç¨‹å¼ç¢¼
- é‡æ§‹éšæ®µç§‰æŒFive Linesè¦å‰‡å’Œå–®ä¸€è·è²¬åŸå‰‡é€²è¡Œæ‹†åˆ†

**å‘½åè¦ç¯„**:
- å‡½æ•¸åç¨±ä»¥å‹•è©é–‹é ­ (å¦‚: calculateTotal, validateInput)
- è®Šæ•¸åç¨±ä½¿ç”¨åè© (å¦‚: userProfile, paymentAmount)
- å¸ƒæ—è®Šæ•¸ä½¿ç”¨ is, has, can å‰ç¶´

---

## ğŸ–¥ é–‹ç™¼ç’°å¢ƒé…ç½®

### TMux é¢æ¿åˆ†å·¥é…ç½® (1,2,2 ä½ˆå±€)

ä½¿ç”¨ `main_layout` session çš„äº”é¢æ¿é…ç½®ä¾†å¯¦ç¾é«˜æ•ˆçš„ TDD å”ä½œé–‹ç™¼ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      é¢æ¿0: ä¸»è¦é–‹ç™¼å·¥ä½œ            â”‚  (ä¸Šå±¤å…¨å¹…)
â”‚      (æ¸¬è©¦ã€ç·¨ç¢¼)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    é¢æ¿1:       â”‚     é¢æ¿2:        â”‚  (ä¸­å±¤å·¦å³)
â”‚   æ–‡ä»¶æ›´æ–°      â”‚   ç¨‹å¼ç¢¼å“è³ªæª¢æŸ¥   â”‚
â”‚ (æ—¥èªŒã€TODOç­‰)  â”‚ (lintã€buildç­‰)   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    é¢æ¿3:       â”‚     é¢æ¿4:        â”‚  (ä¸‹å±¤å·¦å³)
â”‚   Git æ“ä½œ      â”‚   ç›£æ§å’Œåˆ†æ      â”‚
â”‚ (æäº¤ã€ç‹€æ…‹ç­‰)  â”‚ (æ—¥èªŒã€æ•ˆèƒ½ç­‰)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### é¢æ¿è·è²¬åˆ†å·¥

- **é¢æ¿0ï¼ˆä¸»ç·šç¨‹ï¼‰**: ä¸»è¦é–‹ç™¼å·¥ä½œï¼ˆæ¸¬è©¦ã€ç·¨ç¢¼ï¼‰
- **é¢æ¿1ï¼ˆä¸­å·¦ï¼‰**: æ–‡ä»¶æ›´æ–°ï¼ˆå·¥ä½œæ—¥èªŒã€TODOã€CHANGELOGï¼‰
- **é¢æ¿2ï¼ˆä¸­å³ï¼‰**: ç¨‹å¼ç¢¼å“è³ªæª¢æŸ¥ï¼ˆlintã€buildã€coverageï¼‰
- **é¢æ¿3ï¼ˆä¸‹å·¦ï¼‰**: Git æ“ä½œï¼ˆç‹€æ…‹æª¢æŸ¥ã€æäº¤æº–å‚™ï¼‰
- **é¢æ¿4ï¼ˆä¸‹å³ï¼‰**: ç›£æ§å’Œåˆ†æï¼ˆæ—¥èªŒæŸ¥çœ‹ã€æ•ˆèƒ½ç›£æ§ï¼‰

### TMux æ“ä½œæŒ‡ä»¤

```bash
# å»ºç«‹/åˆ‡æ›åˆ°ä¸»ä½ˆå±€
tmux attach-session -t main_layout

# åœ¨ tmux å…§éƒ¨åˆ‡æ› sessionï¼ˆæ¨è–¦ï¼‰
tmux switch-client -t main_layout

# ä½¿ç”¨å¿«æ·éµåˆ‡æ›
# Ctrl+b ç„¶å¾ŒæŒ‰ s -> é¸æ“‡ main_layout -> Enter

# é¢æ¿é–“åˆ‡æ›
# Ctrl+b ç„¶å¾ŒæŒ‰æ–¹å‘éµ
# æˆ– Ctrl+b ç„¶å¾ŒæŒ‰é¢æ¿ç·¨è™Ÿ (0-4)
```

### é–‹ç™¼å·¥ä½œæµç¨‹èˆ‡ç›£æ§æ©Ÿåˆ¶

æ­¤é…ç½®çš„æ ¸å¿ƒç›®çš„æ˜¯**å¯¦æ™‚ç›£æ§ä¸¦ç¢ºèªæ­£ç¢ºè§¸ç™¼æŒ‡å®šçš„é–‹ç™¼æµç¨‹**ï¼š

1. **ä¸»ç·šç¨‹ï¼ˆé¢æ¿0ï¼‰**: åŸ·è¡Œæ ¸å¿ƒ TDD å¾ªç’°ï¼ˆRed-Green-Refactorï¼‰
2. **æ–‡ä»¶åŒæ­¥ï¼ˆé¢æ¿1ï¼‰**: å³æ™‚æ›´æ–°å·¥ä½œæ—¥èªŒã€TODO ç‹€æ…‹ã€ç‰ˆæœ¬è¨˜éŒ„
3. **å“è³ªæŠŠé—œï¼ˆé¢æ¿2ï¼‰**: æŒçºŒåŸ·è¡Œ lintã€buildã€coverage æª¢æŸ¥
4. **ç‰ˆæœ¬æ§åˆ¶ï¼ˆé¢æ¿3ï¼‰**: ç›£æ§ git ç‹€æ…‹ï¼Œé©æ™‚æé†’æäº¤ç¯€é»
5. **ç³»çµ±ç›£æ§ï¼ˆé¢æ¿4ï¼‰**: è§€å¯Ÿæ•ˆèƒ½æŒ‡æ¨™ã€éŒ¯èª¤æ—¥èªŒã€å»ºç½®ç‹€æ…‹

### æµç¨‹è§¸ç™¼æª¢æŸ¥é»

- **æ–‡ä»¶æ›´æ–°è§¸ç™¼æ™‚æ©Ÿ**: å®Œæˆ TDD å¾ªç’°ã€åŠŸèƒ½é‡Œç¨‹ç¢‘ã€å•é¡Œè§£æ±º
- **ä»£ç¢¼å¯©æŸ¥ä»‹å…¥é»**: lint å¤±æ•—ã€coverage ä¸‹é™ã€æ¶æ§‹å‚µå‹™ç™¼ç¾
- **æäº¤æº–å‚™æª¢æŸ¥**: æ¸¬è©¦é€šéã€æ–‡ä»¶åŒæ­¥ã€å“è³ªæ¨™æº–é”æˆ

---

## ğŸ”§ é–‹ç™¼å·¥å…·å’ŒæŒ‡ä»¤

### æ¸¬è©¦æŒ‡ä»¤

```bash
# åŸ·è¡Œæ‰€æœ‰æ¸¬è©¦
npm test

# åŸ·è¡Œç‰¹å®šé¡å‹æ¸¬è©¦
npm run test:unit
npm run test:integration
npm run test:e2e

# åŸ·è¡Œæ¸¬è©¦ä¸¦ç”¢ç”Ÿè¦†è“‹ç‡å ±å‘Š
npm run test:coverage
```

### å»ºç½®æŒ‡ä»¤

```bash
# å®‰è£ä¾è³´é …
npm install --legacy-peer-deps

# é–‹ç™¼ç‰ˆæœ¬å»ºç½®
npm run build:dev

# ç”Ÿç”¢ç‰ˆæœ¬å»ºç½®
npm run build:prod
```

### ç¨‹å¼ç¢¼å“è³ªæŒ‡ä»¤

```bash
# åŸ·è¡Œç¨‹å¼ç¢¼æª¢æŸ¥
npm run lint

# è‡ªå‹•ä¿®æ­£ç¨‹å¼ç¢¼æª¢æŸ¥å•é¡Œ
npm run lint:fix

# æ¸…ç†å»ºç½®ç”¢ç‰©
npm run clean
```

---

## ğŸš¨ çµ•å°ç¦æ­¢çš„å¦¥å”è¡Œç‚º

- âŒ **ã€Œå…ˆé€™æ¨£ï¼Œä¹‹å¾Œå†æ”¹ã€**: æ¶æ§‹å•é¡Œå¿…é ˆç•¶ä¸‹è§£æ±º
- âŒ **ã€Œæ¸¬è©¦ä¹‹å¾Œå†å¯«ã€**: é•å TDD åŸå‰‡
- âŒ **ã€Œé€™å€‹ bug ä¸å½±éŸ¿åŠŸèƒ½ã€**: æ‰€æœ‰å·²çŸ¥å•é¡Œéƒ½å¿…é ˆä¿®å¾©
- âŒ **ã€Œè¤‡è£½è²¼ä¸Šé€™æ®µç¨‹å¼ç¢¼ã€**: é‡è¤‡ç¨‹å¼ç¢¼å¿…é ˆç«‹å³é‡æ§‹
- âŒ **ã€Œæš«æ™‚ç”¨ try-catch åŒ…èµ·ä¾†ã€**: éŒ¯èª¤è™•ç†å¿…é ˆæœ‰æ˜ç¢ºç­–ç•¥

---

## ğŸ“Š ä»»å‹™è¿½è¹¤ç®¡ç†

### ä»»å‹™ç®¡ç†

- æ‰€æœ‰ä»»å‹™è¨˜éŒ„åœ¨ `docs/todolist.md`
- ä½¿ç”¨åœ–ä¾‹è¿½è¹¤é€²åº¦ï¼šâ­• å¾…é–‹å§‹ã€ğŸ”´ ç´…ç‡ˆã€ğŸŸ¢ ç¶ ç‡ˆã€ğŸ”µ é‡æ§‹ã€âœ… å®Œæˆ
- æ¯å®Œæˆä¸€å€‹ TDD å¾ªç’°ç«‹å³æ›´æ–°ç‹€æ…‹

### é‡Œç¨‹ç¢‘è¿½è¹¤

- v0.0.x: åŸºç¤æ¶æ§‹èˆ‡æ¸¬è©¦æ¡†æ¶
- v0.x.x: é–‹ç™¼éšæ®µï¼Œé€æ­¥å¯¦ç¾åŠŸèƒ½
- v1.0.0: å®Œæ•´åŠŸèƒ½ï¼Œæº–å‚™ä¸Šæ¶ Chrome Web Store

---

## ğŸ“š é‡è¦æ–‡ä»¶åƒè€ƒ

- `docs/todolist.md` - é–‹ç™¼ä»»å‹™è¿½è¹¤
- `docs/work-logs/` - è©³ç´°é–‹ç™¼å·¥ä½œæ—¥èªŒ
- `CHANGELOG.md` - ç‰ˆæœ¬è®Šæ›´è¨˜éŒ„
- `docs/architecture/` - æ¶æ§‹è¨­è¨ˆæ–‡ä»¶
- `docs/workflows/` - é–‹ç™¼æµç¨‹è¦ç¯„
- `docs/guidelines/` - å“è³ªæ¨™æº–æŒ‡å¼•

---

## èªè¨€è¦ç¯„

**æ‰€æœ‰å›æ‡‰å¿…é ˆä½¿ç”¨ç¹é«”ä¸­æ–‡ (zh-TW)**

- ç”¢å“ä½¿ç”¨è€…å’Œé–‹ç™¼è€…ç‚ºå°ç£äººï¼Œä½¿ç”¨å°ç£ç‰¹æœ‰çš„ç¨‹å¼è¡“èª
- ç¨‹å¼ç¢¼ä¸­çš„ä¸­æ–‡è¨»è§£å’Œè®Šæ•¸å‘½ååš´æ ¼éµå¾ªå°ç£èªè¨€æ…£ä¾‹
- å¦‚ä¸ç¢ºå®šç”¨è©ï¼Œå„ªå…ˆä½¿ç”¨è‹±æ–‡è€Œéä¸­åœ‹ç”¨èª

---

# important-instruction-reminders

Do what has been asked; nothing more, nothing less.
NEVER create files unless they're absolutely necessary for achieving your goal.
ALWAYS prefer editing an existing file to creating a new one.
NEVER proactively create documentation files (*.md) or README files. Only create documentation files if explicitly requested by the User.

IMPORTANT: this context may or may not be relevant to your tasks. You should not respond to this context unless it is highly relevant to your task.