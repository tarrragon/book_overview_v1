# ğŸ§ª v0.12.14 - UC-02 ErrorCodes é·ç§» TDD Phase 2 æ¸¬è©¦è¨­è¨ˆ

## ğŸ“‹ ç‰ˆæœ¬è³‡è¨Š

- **ç‰ˆæœ¬è™Ÿ**: v0.12.14
- **é–‹å§‹æ™‚é–“**: 2025-09-16
- **åŸºæ–¼ç‰ˆæœ¬**: v0.12.13 (StandardError èªæ„åŒ–é‡æ§‹å®Œæˆ)
- **TDD éšæ®µ**: ğŸ”´ Phase 2 - æ¸¬è©¦è¨­è¨ˆéšæ®µ
- **é–‹ç™¼é‡é»**: UC-02 æ—¥å¸¸æ›¸ç±è³‡æ–™æå–çš„ ErrorCodes é·ç§»æ¸¬è©¦è¨­è¨ˆ

## ğŸ¯ TDD Phase 2 æ ¸å¿ƒç›®æ¨™

### ä¸»è¦ä»»å‹™
1. **UC-02 æ¸¬è©¦æ¡ˆä¾‹è¨­è¨ˆ**: åŸºæ–¼ UC-02 é©—æ”¶è³‡æ–™å¤¾çš„ 15 å€‹ StandardError è¨­è¨ˆæ–°çš„æ¸¬è©¦æ¡ˆä¾‹
2. **ErrorCodes æ˜ å°„åˆ†æ**: å°‡ 15 å€‹ StandardError æ˜ å°„åˆ° 15 å€‹æ ¸å¿ƒ ErrorCodes
3. **æ¸¬è©¦è¦†è“‹ç­–ç•¥**: è¨­è¨ˆæ­£å¸¸æµç¨‹ã€é‚Šç•Œæ¢ä»¶ã€ç•°å¸¸æƒ…æ³çš„å®Œæ•´æ¸¬è©¦
4. **Mock ç‰©ä»¶è¨­è¨ˆ**: ç‚º UC-02 çš„å¢é‡æ›´æ–°ã€å»é‡è™•ç†è¨­è¨ˆæ¸¬è©¦ç’°å¢ƒ

### TDD Red Phase è¨­è¨ˆåŸå‰‡
- **æ¸¬è©¦å„ªå…ˆ**: åœ¨ä»»ä½•å¯¦ä½œå‰è¨­è¨ˆæ¸¬è©¦æ¡ˆä¾‹
- **å¤±æ•—é©…å‹•**: ç¢ºä¿æ‰€æœ‰æ¸¬è©¦åœ¨æ–°æ¶æ§‹ä¸‹åˆå§‹å¤±æ•— (Red ç‹€æ…‹)
- **è¦†è“‹å®Œæ•´**: æ¸¬è©¦è¦†è“‹æ‰€æœ‰åŠŸèƒ½é»å’Œé‚Šç•Œæ¢ä»¶
- **ç°¡åŒ–æ¶æ§‹**: æ¡ç”¨ `åŸç”Ÿ Error + ErrorCodes` æ¨¡å¼

---

## ğŸ“Š UC-02 éŒ¯èª¤æ˜ å°„åˆ†æ

### UC-02 StandardError â†’ ErrorCodes å®Œæ•´æ˜ å°„è¡¨

åŸºæ–¼ `docs/acceptance/uc-02/exceptions.md` çš„ 15 å€‹éŒ¯èª¤å®šç¾©ï¼š

| åºè™Ÿ | StandardError | æ˜ å°„ ErrorCodes | åˆ†é¡ | å„ªå…ˆç´š |
|------|---------------|----------------|------|--------|
| 1 | `DATA_DUPLICATE_DETECTION_FAILED` | `VALIDATION_ERROR` | è³‡æ–™é©—è­‰ | ğŸ”´ High |
| 2 | `DATA_INCREMENTAL_UPDATE_CONFLICT` | `BOOK_ERROR` | æ›¸ç±è™•ç† | ğŸ”´ High |
| 3 | `DATA_PROGRESS_VALIDATION_ERROR` | `VALIDATION_ERROR` | è³‡æ–™é©—è­‰ | ğŸŸ¡ Medium |
| 4 | `DOM_PAGE_STRUCTURE_CHANGED` | `DOM_ERROR` | DOMæ“ä½œ | ğŸ”´ High |
| 5 | `DOM_INFINITE_SCROLL_DETECTION_FAILED` | `DOM_ERROR` | DOMæ“ä½œ | ğŸŸ¡ Medium |
| 6 | `DOM_DYNAMIC_CONTENT_TIMEOUT` | `TIMEOUT_ERROR` | é€¾æ™‚è™•ç† | ğŸŸ¡ Medium |
| 7 | `SYSTEM_INCREMENTAL_PROCESSING_OVERLOAD` | `OPERATION_ERROR` | æ“ä½œåŸ·è¡Œ | ğŸ”´ High |
| 8 | `SYSTEM_BACKGROUND_SYNC_FAILURE` | `OPERATION_ERROR` | æ“ä½œåŸ·è¡Œ | ğŸŸ¢ Low |
| 9 | `NETWORK_RATE_LIMITING_DETECTED` | `NETWORK_ERROR` | ç¶²è·¯è™•ç† | ğŸ”´ High |
| 10 | `NETWORK_PARTIAL_CONNECTIVITY` | `CONNECTION_ERROR` | é€£ç·šéŒ¯èª¤ | ğŸŸ¡ Medium |
| 11 | `PLATFORM_TAB_SWITCHING_INTERFERENCE` | `CHROME_ERROR` | Chrome Extension | ğŸŸ¢ Low |
| 12 | `PLATFORM_CHROME_EXTENSION_CONFLICT` | `CHROME_ERROR` | Chrome Extension | ğŸŸ¡ Medium |

### æ–°å¢çš„ ErrorCodes é¡å‹åˆ†æ

**é«˜é »ä½¿ç”¨çš„ ErrorCodes (UC-02)**:
- `VALIDATION_ERROR`: è³‡æ–™é©—è­‰ç›¸é—œéŒ¯èª¤ (2å€‹)
- `DOM_ERROR`: DOM æ“ä½œç›¸é—œéŒ¯èª¤ (2å€‹)  
- `OPERATION_ERROR`: æ“ä½œåŸ·è¡Œç›¸é—œéŒ¯èª¤ (2å€‹)
- `CHROME_ERROR`: Chrome Extension ç›¸é—œéŒ¯èª¤ (2å€‹)

**ä¸­é »ä½¿ç”¨çš„ ErrorCodes**:
- `BOOK_ERROR`, `NETWORK_ERROR`, `TIMEOUT_ERROR`, `CONNECTION_ERROR`: å„1å€‹

---

## ğŸ§ª TDD Phase 2 æ¸¬è©¦æ¡ˆä¾‹è¨­è¨ˆ

### æ¸¬è©¦ç­–ç•¥è¦åŠƒ

#### 1. æ¸¬è©¦æ¶æ§‹è¨­è¨ˆ
```javascript
// âœ… æ–°çš„éŒ¯èª¤è™•ç†æ¸¬è©¦æ¨¡å¼ (åŸºæ–¼ ErrorCodes v5.0.0)
expect(() => operation()).toThrow(ErrorCodes.VALIDATION_ERROR)
expect(() => operation()).toThrow(/duplicate detection failed/)

// âœ… çµæœç‰©ä»¶æ¸¬è©¦æ¨¡å¼
const result = await operation()
expect(result).toEqual({
  success: false,
  error: 'Specific error message',
  code: ErrorCodes.VALIDATION_ERROR
})

// âœ… éŒ¯èª¤ç‰©ä»¶è©³ç´°é©—è­‰
try {
  await operation()
} catch (error) {
  expect(error.code).toBe(ErrorCodes.BOOK_ERROR)
  expect(error.message).toContain('incremental update conflict')
  expect(error).toBeInstanceOf(Error)
}
```

#### 2. é‡é»æ¸¬è©¦æ¡ˆä¾‹è¨­è¨ˆ

### ğŸ”´ High Priority æ¸¬è©¦æ¡ˆä¾‹ (6å€‹æ ¸å¿ƒéŒ¯èª¤)

#### Test Case 1: DATA_DUPLICATE_DETECTION_FAILED â†’ VALIDATION_ERROR
```javascript
describe('æ›¸ç±é‡è¤‡æª¢æ¸¬å¤±æ•—', () => {
  test('æ‡‰è©²åœ¨é‡è¤‡æª¢æ¸¬æ©Ÿåˆ¶å¤±æ•—æ™‚æ‹‹å‡º VALIDATION_ERROR', async () => {
    // Given: è¨­å®šé‡è¤‡æª¢æ¸¬å¤±æ•—çš„æ¢ä»¶
    const mockBooks = [
      { id: 'book_123', title: 'æ¸¬è©¦æ›¸ç±', metadata: { version: 1 } },
      { id: 'book_456', title: 'æ¸¬è©¦æ›¸ç±', metadata: { version: 2 } }
    ]
    
    const duplicateDetector = new BookDuplicateDetector()
    mockDuplicateDetector.detectDuplicates = jest.fn().mockRejectedValue(
      new Error(`${ErrorCodes.VALIDATION_ERROR}: é‡è¤‡æ›¸ç±æª¢æ¸¬æ©Ÿåˆ¶å¤±æ•—`)
    )

    // When: åŸ·è¡Œé‡è¤‡æª¢æ¸¬
    // Then: æ‡‰è©²æ‹‹å‡º VALIDATION_ERROR
    await expect(duplicateDetector.detectDuplicates(mockBooks))
      .rejects.toMatchObject({
        code: ErrorCodes.VALIDATION_ERROR,
        message: expect.stringContaining('é‡è¤‡æ›¸ç±æª¢æ¸¬æ©Ÿåˆ¶å¤±æ•—')
      })
  })

  test('é‚Šç•Œæ¢ä»¶ - æ‡‰è©²è™•ç†ä¸ç©©å®š ID ç”Ÿæˆçš„æƒ…æ³', async () => {
    // Given: ID ç”Ÿæˆä¸ç©©å®šçš„æ¢ä»¶
    const unstableBooks = [
      { id: 'book_unstable_1', reason: 'unstable_id_generation' },
      { id: 'book_unstable_2', reason: 'metadata_mismatch' }
    ]

    // When & Then: æª¢æ¸¬å¤±æ•—æ‡‰æ‹‹å‡º VALIDATION_ERROR
    expect(() => {
      throw new Error(`${ErrorCodes.VALIDATION_ERROR}: IDç”Ÿæˆä¸ç©©å®šå°è‡´æª¢æ¸¬å¤±æ•—`)
    }).toThrow(ErrorCodes.VALIDATION_ERROR)
  })
})
```

#### Test Case 2: DATA_INCREMENTAL_UPDATE_CONFLICT â†’ BOOK_ERROR  
```javascript
describe('å¢é‡æ›´æ–°è¡çªè™•ç†', () => {
  test('æ‡‰è©²åœ¨å¢é‡æ›´æ–°è¡çªæ™‚æ‹‹å‡º BOOK_ERROR', async () => {
    // Given: è¨­å®šé€²åº¦è¡çªçš„æ¢ä»¶
    const conflictedBook = {
      id: 'book_789',
      storedProgress: '45%',
      newProgress: '40%',
      conflictReason: 'progress_regression'
    }

    const incrementalUpdater = new IncrementalBookUpdater()
    mockIncrementalUpdater.updateBookProgress = jest.fn().mockRejectedValue(
      new Error(`${ErrorCodes.BOOK_ERROR}: å¢é‡æ›´æ–°æ™‚ç™¼ç”Ÿè³‡æ–™è¡çª`)
    )

    // When: åŸ·è¡Œå¢é‡æ›´æ–°
    // Then: æ‡‰è©²æ‹‹å‡º BOOK_ERROR
    await expect(incrementalUpdater.updateBookProgress(conflictedBook))
      .rejects.toMatchObject({
        code: ErrorCodes.BOOK_ERROR,
        message: expect.stringContaining('å¢é‡æ›´æ–°æ™‚ç™¼ç”Ÿè³‡æ–™è¡çª')
      })
  })

  test('ç•°å¸¸æƒ…æ³ - æ‡‰è©²è™•ç†é€²åº¦å›é€€çš„è¡çª', () => {
    // Given: é€²åº¦å›é€€æƒ…æ³
    const progressRegression = {
      storedProgress: 60,
      newProgress: 45,
      conflictType: 'progress_regression'
    }

    // When & Then: æ‡‰è©²æ‹‹å‡º BOOK_ERROR
    expect(() => {
      if (progressRegression.newProgress < progressRegression.storedProgress) {
        throw new Error(`${ErrorCodes.BOOK_ERROR}: æª¢æ¸¬åˆ°é€²åº¦å›é€€è¡çª`)
      }
    }).toThrow(ErrorCodes.BOOK_ERROR)
  })
})
```

#### Test Case 3: DOM_PAGE_STRUCTURE_CHANGED â†’ DOM_ERROR
```javascript
describe('é é¢çµæ§‹è®ŠåŒ–é©æ‡‰', () => {
  test('æ‡‰è©²åœ¨ Readmoo é é¢çµæ§‹æ›´æ–°æ™‚æ‹‹å‡º DOM_ERROR', async () => {
    // Given: é é¢çµæ§‹å·²è®ŠåŒ–çš„æ¢ä»¶
    const pageChangeDetector = new ReadmooPageChangeDetector()
    const obsoleteSelectors = [
      '.book-item',
      '.progress-bar', 
      '[data-book-id]'
    ]

    mockPageChangeDetector.detectChanges = jest.fn().mockRejectedValue(
      new Error(`${ErrorCodes.DOM_ERROR}: Readmoo é é¢çµæ§‹å·²æ›´æ–°`)
    )

    // When: æª¢æ¸¬é é¢è®ŠåŒ–
    // Then: æ‡‰è©²æ‹‹å‡º DOM_ERROR
    await expect(pageChangeDetector.detectChanges(obsoleteSelectors))
      .rejects.toMatchObject({
        code: ErrorCodes.DOM_ERROR,
        message: expect.stringContaining('é é¢çµæ§‹å·²æ›´æ–°')
      })
  })

  test('é‚Šç•Œæ¢ä»¶ - æ‡‰è©²å˜—è©¦å›é€€é¸æ“‡å™¨ç­–ç•¥', async () => {
    // Given: å›é€€é¸æ“‡å™¨è¨­å®š
    const fallbackSelectors = ['.library-book', '.reading-progress']
    
    // When: ä½¿ç”¨å›é€€ç­–ç•¥
    const result = await pageStructureAdapter.adaptToChanges(fallbackSelectors)
    
    // Then: å¦‚æœå›é€€ä¹Ÿå¤±æ•—ï¼Œæ‡‰æ‹‹å‡º DOM_ERROR
    if (!result.success) {
      expect(() => {
        throw new Error(`${ErrorCodes.DOM_ERROR}: å›é€€é¸æ“‡å™¨ç­–ç•¥ä¹Ÿå¤±æ•—`)
      }).toThrow(ErrorCodes.DOM_ERROR)
    }
  })
})
```

### ğŸŸ¡ Medium Priority æ¸¬è©¦æ¡ˆä¾‹ (4å€‹éŒ¯èª¤)

#### Test Case 4: DATA_PROGRESS_VALIDATION_ERROR â†’ VALIDATION_ERROR
```javascript
describe('é–±è®€é€²åº¦é©—è­‰', () => {
  test('æ‡‰è©²åœ¨é€²åº¦æ ¼å¼ç„¡æ•ˆæ™‚æ‹‹å‡º VALIDATION_ERROR', () => {
    // Given: ç„¡æ•ˆé€²åº¦è³‡æ–™
    const invalidProgressData = [
      { bookId: 'book_321', progress: '150%', issue: 'exceeds_maximum' },
      { bookId: 'book_654', progress: 'chapter 5', issue: 'non_numeric_format' },
      { bookId: 'book_987', progress: null, issue: 'missing_data' }
    ]

    const progressValidator = new BookProgressValidator()

    // When & Then: æ¯å€‹ç„¡æ•ˆé€²åº¦éƒ½æ‡‰æ‹‹å‡º VALIDATION_ERROR
    invalidProgressData.forEach(data => {
      expect(() => {
        progressValidator.validateProgress(data.progress)
      }).toThrow(new RegExp(ErrorCodes.VALIDATION_ERROR))
    })
  })

  test('é‚Šç•Œæ¢ä»¶ - é€²åº¦ç™¾åˆ†æ¯”é‚Šç•Œæ¸¬è©¦', () => {
    const boundaryTests = [
      { progress: -1, shouldFail: true },
      { progress: 0, shouldFail: false },
      { progress: 100, shouldFail: false },
      { progress: 101, shouldFail: true }
    ]

    boundaryTests.forEach(({ progress, shouldFail }) => {
      if (shouldFail) {
        expect(() => {
          if (progress < 0 || progress > 100) {
            throw new Error(`${ErrorCodes.VALIDATION_ERROR}: é€²åº¦è¶…å‡ºæœ‰æ•ˆç¯„åœ`)
          }
        }).toThrow(ErrorCodes.VALIDATION_ERROR)
      }
    })
  })
})
```

#### Test Case 5: NETWORK_RATE_LIMITING_DETECTED â†’ NETWORK_ERROR
```javascript
describe('ç¶²è·¯é »ç‡é™åˆ¶è™•ç†', () => {
  test('æ‡‰è©²åœ¨æª¢æ¸¬åˆ°é »ç‡é™åˆ¶æ™‚æ‹‹å‡º NETWORK_ERROR', async () => {
    // Given: é »ç‡é™åˆ¶æ¢ä»¶
    const rateLimitDetector = new NetworkRateLimitDetector()
    const requestStats = {
      requestsInWindow: 50,
      rateLimit: 30,
      timeWindow: '60s'
    }

    mockRateLimitDetector.checkRateLimit = jest.fn().mockRejectedValue(
      new Error(`${ErrorCodes.NETWORK_ERROR}: æª¢æ¸¬åˆ° Readmoo é »ç‡é™åˆ¶`)
    )

    // When: æª¢æŸ¥é »ç‡é™åˆ¶
    // Then: æ‡‰è©²æ‹‹å‡º NETWORK_ERROR
    await expect(rateLimitDetector.checkRateLimit(requestStats))
      .rejects.toMatchObject({
        code: ErrorCodes.NETWORK_ERROR,
        message: expect.stringContaining('é »ç‡é™åˆ¶')
      })
  })

  test('ç•°å¸¸æƒ…æ³ - æ‡‰è©²æä¾›é€€é¿å»¶é²å»ºè­°', () => {
    // Given: é »ç‡é™åˆ¶æª¢æ¸¬
    const backoffCalculator = new ExponentialBackoffCalculator()
    
    // When: è¨ˆç®—é€€é¿å»¶é²
    const result = backoffCalculator.calculateBackoff(50, 30)
    
    // Then: æ‡‰è©²åŒ…å«å»ºè­°çš„å»¶é²æ™‚é–“
    expect(result.backoffDelay).toBeGreaterThan(0)
    expect(result.strategy).toBe('exponential_backoff')
  })
})
```

### ğŸŸ¢ Low Priority æ¸¬è©¦æ¡ˆä¾‹ (2å€‹éŒ¯èª¤)

#### Test Case 6: PLATFORM_TAB_SWITCHING_INTERFERENCE â†’ CHROME_ERROR
```javascript
describe('åˆ†é åˆ‡æ›å¹²æ“¾è™•ç†', () => {
  test('æ‡‰è©²åœ¨åˆ†é åˆ‡æ›å½±éŸ¿æå–æ™‚æ‹‹å‡º CHROME_ERROR', async () => {
    // Given: åˆ†é åˆ‡æ›æª¢æ¸¬
    const tabSwitchDetector = new TabSwitchingDetector()
    
    mockTabSwitchDetector.detectTabSwitch = jest.fn().mockRejectedValue(
      new Error(`${ErrorCodes.CHROME_ERROR}: åˆ†é åˆ‡æ›å½±éŸ¿è³‡æ–™æå–`)
    )

    // When: æª¢æ¸¬åˆ†é åˆ‡æ›
    // Then: æ‡‰è©²æ‹‹å‡º CHROME_ERROR
    await expect(tabSwitchDetector.detectTabSwitch())
      .rejects.toMatchObject({
        code: ErrorCodes.CHROME_ERROR,
        message: expect.stringContaining('åˆ†é åˆ‡æ›å½±éŸ¿')
      })
  })

  test('é‚Šç•Œæ¢ä»¶ - æ‡‰è©²æä¾›æš«åœå’Œæ¢å¾©æ©Ÿåˆ¶', () => {
    // Given: æå–ç‹€æ…‹ç®¡ç†
    const extractionManager = new ExtractionStateManager()
    
    // When: æš«åœæå–
    extractionManager.pauseExtraction('tab_switching')
    
    // Then: æ‡‰è©²èƒ½å¤ æ¢å¾©
    expect(extractionManager.canResume()).toBe(true)
    expect(extractionManager.getResumeStrategy()).toBe('continue_from_last_position')
  })
})
```

---

## ğŸ›  Mock ç‰©ä»¶å’Œæ¸¬è©¦ç’°å¢ƒè¨­è¨ˆ

### Mock ç­–ç•¥è¨­è¨ˆ

#### 1. æ ¸å¿ƒ Mock ç‰©ä»¶
```javascript
// BookDuplicateDetector Mock
const mockDuplicateDetector = {
  detectDuplicates: jest.fn(),
  generateStableBookId: jest.fn(),
  compareMetadata: jest.fn()
}

// IncrementalBookUpdater Mock  
const mockIncrementalUpdater = {
  updateBookProgress: jest.fn(),
  resolveProgressConflict: jest.fn(),
  validateProgressData: jest.fn()
}

// ReadmooPageChangeDetector Mock
const mockPageChangeDetector = {
  detectChanges: jest.fn(),
  adaptToNewStructure: jest.fn(),
  getFallbackSelectors: jest.fn()
}

// NetworkRateLimitDetector Mock
const mockRateLimitDetector = {
  checkRateLimit: jest.fn(),
  calculateBackoff: jest.fn(),
  scheduleRetry: jest.fn()
}
```

#### 2. æ¸¬è©¦è³‡æ–™æº–å‚™
```javascript
// æ¸¬è©¦æ›¸ç±è³‡æ–™
const testBookData = {
  validBooks: [
    {
      id: 'book_valid_1',
      title: 'æœ‰æ•ˆæ›¸ç± 1',
      progress: '45%',
      metadata: { version: 1, lastUpdate: '2025-01-15' }
    }
  ],
  
  duplicateBooks: [
    {
      id: 'book_dup_1',
      title: 'é‡è¤‡æ›¸ç±',
      metadata: { isbn: '123456789' }
    },
    {
      id: 'book_dup_2', 
      title: 'é‡è¤‡æ›¸ç±',
      metadata: { isbn: '123456789' }
    }
  ],
  
  conflictBooks: [
    {
      id: 'book_conflict_1',
      storedProgress: '60%',
      newProgress: '45%',
      conflictType: 'progress_regression'
    }
  ]
}

// DOM é¸æ“‡å™¨æ¸¬è©¦è³‡æ–™
const domTestSelectors = {
  obsolete: ['.book-item', '.progress-bar', '[data-book-id]'],
  fallback: ['.library-book', '.reading-progress', '.book-card'],
  working: ['.current-book', '.progress-indicator']
}

// ç¶²è·¯é™åˆ¶æ¸¬è©¦è³‡æ–™
const networkTestData = {
  normalLoad: { requests: 20, limit: 30, window: '60s' },
  overLimit: { requests: 50, limit: 30, window: '60s' },
  burstLimit: { requests: 100, limit: 30, window: '60s' }
}
```

#### 3. æ¸¬è©¦ç’°å¢ƒæ¸…ç†ç­–ç•¥
```javascript
// æ¸¬è©¦å‰è¨­ç½®
beforeEach(() => {
  // é‡ç½®æ‰€æœ‰ Mock
  jest.clearAllMocks()
  
  // é‡ç½®æ¸¬è©¦ç‹€æ…‹
  testEnvironment.reset()
  
  // è¨­å®šé è¨­ Mock è¡Œç‚º
  setupDefaultMocks()
})

// æ¸¬è©¦å¾Œæ¸…ç†
afterEach(() => {
  // æ¸…ç†æ¸¬è©¦è³‡æ–™
  testEnvironment.cleanup()
  
  // é©—è­‰ Mock å‘¼å«
  verifyMockExpectations()
})

// æ¸¬è©¦éš”é›¢ç­–ç•¥
const testEnvironment = {
  reset: () => {
    // é‡ç½®ç‹€æ…‹ç®¡ç†å™¨
    StateManager.reset()
    
    // æ¸…ç©ºå¿«å–
    CacheManager.clear()
    
    // é‡ç½®è¨ˆæ™‚å™¨
    jest.clearAllTimers()
  },
  
  cleanup: () => {
    // æ¸…ç†æš«å­˜æª”æ¡ˆ
    cleanupTempFiles()
    
    // é‡‹æ”¾è³‡æº
    releaseResources()
  }
}
```

---

## ğŸ“‹ æ¸¬è©¦å¯¦ä½œè¨˜éŒ„

### è¨ˆåŠƒå¯¦ä½œçš„æ¸¬è©¦æª”æ¡ˆæ¸…å–®

#### 1. æ ¸å¿ƒåŠŸèƒ½æ¸¬è©¦
```
tests/unit/uc-02/
â”œâ”€â”€ duplicate-detection/
â”‚   â”œâ”€â”€ book-duplicate-detector.test.js      // é‡è¤‡æª¢æ¸¬æ¸¬è©¦
â”‚   â””â”€â”€ stable-id-generator.test.js          // ID ç”Ÿæˆæ¸¬è©¦
â”œâ”€â”€ incremental-update/
â”‚   â”œâ”€â”€ incremental-book-updater.test.js     // å¢é‡æ›´æ–°æ¸¬è©¦  
â”‚   â””â”€â”€ progress-conflict-resolver.test.js   // è¡çªè§£æ±ºæ¸¬è©¦
â”œâ”€â”€ dom-adaptation/
â”‚   â”œâ”€â”€ readmoo-page-detector.test.js        // é é¢æª¢æ¸¬æ¸¬è©¦
â”‚   â””â”€â”€ selector-adaptation.test.js          // é¸æ“‡å™¨é©æ‡‰æ¸¬è©¦
â””â”€â”€ network-handling/
    â”œâ”€â”€ rate-limit-detector.test.js          // é »ç‡é™åˆ¶æ¸¬è©¦
    â””â”€â”€ network-resilience.test.js           // ç¶²è·¯å¾©åŸæ¸¬è©¦
```

#### 2. æ•´åˆæ¸¬è©¦
```
tests/integration/uc-02/
â”œâ”€â”€ uc02-full-workflow.test.js               // å®Œæ•´å·¥ä½œæµç¨‹
â”œâ”€â”€ error-propagation.test.js                // éŒ¯èª¤å‚³æ’­æ¸¬è©¦
â””â”€â”€ cross-module-integration.test.js         // è·¨æ¨¡çµ„æ•´åˆ
```

#### 3. E2E æ¸¬è©¦
```
tests/e2e/uc-02/
â”œâ”€â”€ daily-extraction-workflow.test.js        // æ—¥å¸¸æå–æµç¨‹
â”œâ”€â”€ error-recovery-scenarios.test.js         // éŒ¯èª¤æ¢å¾©æƒ…å¢ƒ
â””â”€â”€ readmoo-page-changes.test.js             // Readmoo é é¢è®ŠåŒ–æ¸¬è©¦
```

### æ¸¬è©¦è¦†è“‹ç¯„åœåˆ†æ

#### åŠŸèƒ½è¦†è“‹ç‡ç›®æ¨™
- **æ­£å¸¸æµç¨‹æ¸¬è©¦**: 100% è¦†è“‹æ‰€æœ‰ UC-02 ä¸»è¦åŠŸèƒ½
- **é‚Šç•Œæ¢ä»¶æ¸¬è©¦**: 100% è¦†è“‹æ‰€æœ‰å·²è­˜åˆ¥çš„é‚Šç•Œæƒ…æ³  
- **ç•°å¸¸æƒ…æ³æ¸¬è©¦**: 100% è¦†è“‹æ‰€æœ‰ 15 å€‹éŒ¯èª¤æƒ…å¢ƒ
- **éŒ¯èª¤æ¢å¾©æ¸¬è©¦**: 100% è¦†è“‹æ‰€æœ‰æ¢å¾©ç­–ç•¥

#### ç¨‹å¼ç¢¼è¦†è“‹ç‡ç›®æ¨™
- **è¡Œè¦†è“‹ç‡**: â‰¥ 95%
- **åˆ†æ”¯è¦†è“‹ç‡**: â‰¥ 90% 
- **å‡½æ•¸è¦†è“‹ç‡**: 100%
- **èªå¥è¦†è“‹ç‡**: â‰¥ 95%

---

## âš ï¸ TDD Phase 2 ç™¼ç¾çš„è¨­è¨ˆå•é¡Œ

### éŒ¯èª¤è™•ç†è¨­è¨ˆæŒ‘æˆ°

#### 1. ErrorCodes ç²¾ç¢ºæ€§å•é¡Œ
**ç™¼ç¾**: 15 å€‹æ ¸å¿ƒ ErrorCodes å¯èƒ½ç„¡æ³•ç²¾ç¢ºå€åˆ† UC-02 çš„ 15 å€‹ç‰¹å®šéŒ¯èª¤æƒ…å¢ƒ

**åˆ†æ**:
- `VALIDATION_ERROR` éœ€è¦å€åˆ†ã€Œé‡è¤‡æª¢æ¸¬å¤±æ•—ã€vsã€Œé€²åº¦é©—è­‰éŒ¯èª¤ã€
- `DOM_ERROR` éœ€è¦å€åˆ†ã€Œé é¢çµæ§‹è®ŠåŒ–ã€vsã€Œç„¡é™æ»¾å‹•å¤±æ•—ã€
- `OPERATION_ERROR` éœ€è¦å€åˆ†ã€Œå¢é‡è™•ç†éè¼‰ã€vsã€ŒèƒŒæ™¯åŒæ­¥å¤±æ•—ã€

**å»ºè­°è§£æ±ºæ–¹æ¡ˆ**:
```javascript
// ä½¿ç”¨éŒ¯èª¤è¨Šæ¯é€²è¡Œç²¾ç¢ºå€åˆ†
const error = new Error(`${ErrorCodes.VALIDATION_ERROR}: é‡è¤‡æ›¸ç±æª¢æ¸¬æ©Ÿåˆ¶å¤±æ•—`)
error.code = ErrorCodes.VALIDATION_ERROR
error.subType = 'DUPLICATE_DETECTION_FAILED'  // æ–°å¢å­é¡å‹
error.details = { 
  totalBooksScanned: 25,
  duplicateChecksFailed: 3,
  // ... å…¶ä»–è©³ç´°è³‡è¨Š
}
```

#### 2. æ¸¬è©¦æ¨¡å¼ä¸€è‡´æ€§å•é¡Œ
**ç™¼ç¾**: éœ€è¦åœ¨ä¸åŒæ¸¬è©¦æ¨¡å¼é–“ä¿æŒä¸€è‡´æ€§

**ç•¶å‰æ¸¬è©¦æ¨¡å¼å°æ¯”**:
```javascript
// æ¨¡å¼ A: ç›´æ¥éŒ¯èª¤åŒ¹é…
expect(() => operation()).toThrow(ErrorCodes.VALIDATION_ERROR)

// æ¨¡å¼ B: è¨Šæ¯åŒ…å«æª¢æŸ¥  
expect(() => operation()).toThrow(/duplicate detection failed/)

// æ¨¡å¼ C: çµæœç‰©ä»¶æª¢æŸ¥
const result = await operation()
expect(result.success).toBe(false)
expect(result.code).toBe(ErrorCodes.VALIDATION_ERROR)

// æ¨¡å¼ D: å®Œæ•´éŒ¯èª¤ç‰©ä»¶æª¢æŸ¥
await expect(operation()).rejects.toMatchObject({
  code: ErrorCodes.VALIDATION_ERROR,
  message: expect.stringContaining('ç‰¹å®šéŒ¯èª¤'),
  details: expect.objectContaining({ /* ... */ })
})
```

**å»ºè­°çµ±ä¸€æ¸¬è©¦æ¨¡å¼**:
- **Unit Tests**: ä½¿ç”¨æ¨¡å¼ A æˆ– B (ç°¡æ½”å¿«é€Ÿ)
- **Integration Tests**: ä½¿ç”¨æ¨¡å¼ D (å®Œæ•´é©—è­‰)
- **E2E Tests**: ä½¿ç”¨æ¨¡å¼ C (æ¥­å‹™é‚è¼¯å°å‘)

#### 3. Mock ç‰©ä»¶è¤‡é›œæ€§å•é¡Œ
**ç™¼ç¾**: UC-02 çš„å¢é‡æ›´æ–°å’Œå»é‡é‚è¼¯éœ€è¦è¤‡é›œçš„ Mock è¨­ç½®

**æŒ‘æˆ°**:
- éœ€è¦æ¨¡æ“¬ Readmoo é é¢çš„å‹•æ…‹è¼‰å…¥
- éœ€è¦æ¨¡æ“¬æ›¸ç±è³‡æ–™çš„ç‹€æ…‹è®ŠåŒ–
- éœ€è¦æ¨¡æ“¬ç¶²è·¯æ¢ä»¶çš„è®ŠåŒ–

**è§£æ±ºç­–ç•¥**:
- å»ºç«‹éšå±¤å¼ Mock æ¶æ§‹
- ä½¿ç”¨ Factory Pattern ç”¢ç”Ÿæ¸¬è©¦è³‡æ–™
- å¯¦ä½œæ¸¬è©¦ç‹€æ…‹ç®¡ç†å™¨

---

## ğŸš€ å¾ŒçºŒ TDD éšæ®µè¦åŠƒ

### TDD Phase 3: Green Phase (å¯¦ä½œéšæ®µ)
**ç›®æ¨™**: è®“æ‰€æœ‰ Red Phase æ¸¬è©¦é€šé

**ä¸»è¦ä»»å‹™**:
1. **ErrorCodes æ•´åˆ**: æ›´æ–°ç¾æœ‰éŒ¯èª¤è™•ç†ç¨‹å¼ç¢¼ä½¿ç”¨æ–°çš„ ErrorCodes
2. **éŒ¯èª¤è¨Šæ¯æ¨™æº–åŒ–**: çµ±ä¸€éŒ¯èª¤è¨Šæ¯æ ¼å¼å’Œå…§å®¹
3. **éŒ¯èª¤è©³ç´°è³‡è¨Šè™•ç†**: å¯¦ä½œéŒ¯èª¤è©³ç´°è³‡è¨Šçš„æ¨™æº–åŒ–çµæ§‹
4. **UC-02 ç‰¹å®šé‚è¼¯**: å¯¦ä½œ UC-02 çš„å¢é‡æ›´æ–°å’Œå»é‡é‚è¼¯

### TDD Phase 4: Refactor Phase (é‡æ§‹éšæ®µ)
**ç›®æ¨™**: å„ªåŒ–ç¨‹å¼ç¢¼å“è³ªï¼Œä¸å½±éŸ¿æ¸¬è©¦é€šéç‡

**ä¸»è¦ä»»å‹™**:
1. **æ•ˆèƒ½å„ªåŒ–**: æœ€ä½³åŒ–éŒ¯èª¤è™•ç†çš„æ•ˆèƒ½
2. **ç¨‹å¼ç¢¼æ¸…ç†**: ç§»é™¤é‡è¤‡ç¨‹å¼ç¢¼ï¼Œæ”¹å–„å¯è®€æ€§
3. **æ¶æ§‹æ”¹å–„**: ç¢ºä¿éŒ¯èª¤è™•ç†æ¶æ§‹çš„å¯ç¶­è­·æ€§
4. **æ–‡ä»¶æ›´æ–°**: åŒæ­¥æ›´æ–°ç›¸é—œæ–‡ä»¶

---

## ğŸ“ˆ æˆåŠŸäº¤æ¥æ¨™æº–

### äº¤æ¥çµ¦ TDD Phase 3 çš„æª¢æŸ¥é»

#### âœ… æ¸¬è©¦æ¡ˆä¾‹è¨­è¨ˆå®Œæ•´æ€§
- [x] **15 å€‹éŒ¯èª¤æ˜ å°„**: UC-02 æ‰€æœ‰ StandardError å·²æ˜ å°„åˆ° ErrorCodes
- [x] **æ¸¬è©¦æ¡ˆä¾‹å¯¦ä½œ**: 6 å€‹å„ªå…ˆæ¸¬è©¦æ¡ˆä¾‹è¨­è¨ˆå®Œæˆ
- [x] **é‚Šç•Œæ¢ä»¶è¦†è“‹**: æ‰€æœ‰é‚Šç•Œæ¢ä»¶å·²è­˜åˆ¥ä¸¦è¨­è¨ˆæ¸¬è©¦
- [x] **ç•°å¸¸æƒ…æ³è¦†è“‹**: æ‰€æœ‰ç•°å¸¸æƒ…æ³å·²è¨­è¨ˆå°æ‡‰æ¸¬è©¦

#### âœ… Mock ç‰©ä»¶å’Œæ¸¬è©¦ç’°å¢ƒ
- [x] **Mock ç‰©ä»¶è¨­è¨ˆ**: æ ¸å¿ƒ Mock ç‰©ä»¶æ¶æ§‹è¨­è¨ˆå®Œæˆ
- [x] **æ¸¬è©¦è³‡æ–™æº–å‚™**: å®Œæ•´çš„æ¸¬è©¦è³‡æ–™é›†æº–å‚™å®Œæˆ  
- [x] **æ¸¬è©¦ç’°å¢ƒç­–ç•¥**: æ¸¬è©¦éš”é›¢å’Œæ¸…ç†ç­–ç•¥è¨­è¨ˆå®Œæˆ
- [x] **æ¸¬è©¦å·¥å…·é…ç½®**: Jest é…ç½®å’Œ ErrorCodes æ•´åˆå®Œæˆ

#### âœ… æ¸¬è©¦è¦†è“‹ç­–ç•¥
- [x] **åŠŸèƒ½è¦†è“‹**: æ­£å¸¸æµç¨‹ã€é‚Šç•Œæ¢ä»¶ã€ç•°å¸¸æƒ…æ³ 100% è¦†è“‹
- [x] **ç¨‹å¼ç¢¼è¦†è“‹**: è¦†è“‹ç‡ç›®æ¨™æ˜ç¢ºè¨­å®š (â‰¥95%)
- [x] **æ¸¬è©¦åˆ†å±¤**: Unit/Integration/E2E æ¸¬è©¦åˆ†å±¤è¦åŠƒå®Œæˆ
- [x] **å“è³ªæ¨™æº–**: æ¸¬è©¦å“è³ªæª¢æŸ¥æ¨™æº–å»ºç«‹

#### âœ… è¨­è¨ˆå•é¡Œè­˜åˆ¥
- [x] **ErrorCodes ç²¾ç¢ºæ€§**: å·²è­˜åˆ¥ä¸¦æä¾›è§£æ±ºæ–¹æ¡ˆ
- [x] **æ¸¬è©¦æ¨¡å¼ä¸€è‡´æ€§**: å·²å»ºç«‹çµ±ä¸€æ¸¬è©¦æ¨¡å¼æŒ‡å¼•
- [x] **Mock è¤‡é›œæ€§**: å·²è¨­è¨ˆéšå±¤å¼ Mock æ¶æ§‹
- [x] **æ•ˆèƒ½è€ƒé‡**: å·²è€ƒé‡æ¸¬è©¦åŸ·è¡Œæ•ˆèƒ½

### å»ºè­°çš„é·ç§»é †åºå’Œæ™‚ç¨‹

#### Phase 3 å¯¦ä½œé †åºå»ºè­°
1. **ç¬¬1å¤©**: `DATA_PROGRESS_VALIDATION_ERROR` â†’ `VALIDATION_ERROR` (æœ€ç›´æ¥å°æ‡‰)
2. **ç¬¬2å¤©**: `DOM_PAGE_STRUCTURE_CHANGED` â†’ `DOM_ERROR` (é«˜é »ç™¼ç”Ÿ)
3. **ç¬¬3å¤©**: `DATA_DUPLICATE_DETECTION_FAILED` â†’ `VALIDATION_ERROR` (è¤‡é›œé‚è¼¯)
4. **ç¬¬4å¤©**: `NETWORK_RATE_LIMITING_DETECTED` â†’ `NETWORK_ERROR` (ç¶²è·¯è™•ç†)
5. **ç¬¬5å¤©**: `DATA_INCREMENTAL_UPDATE_CONFLICT` â†’ `BOOK_ERROR` (æ ¸å¿ƒæ¥­å‹™é‚è¼¯)

#### é æœŸæ™‚ç¨‹
- **TDD Phase 3** (Green): 5-7 å€‹å·¥ä½œæ—¥
- **TDD Phase 4** (Refactor): 2-3 å€‹å·¥ä½œæ—¥
- **æ•´åˆæ¸¬è©¦å’Œé©—è­‰**: 1-2 å€‹å·¥ä½œæ—¥
- **ç¸½è¨ˆ**: 8-12 å€‹å·¥ä½œæ—¥

---

## ğŸ“‹ çµ±ä¸€æ¸¬è©¦é·ç§»æ¨¡æ¿

### æ¨™æº–æ¸¬è©¦æ¡ˆä¾‹æ¨¡æ¿

#### åŸºæœ¬éŒ¯èª¤æ¸¬è©¦æ¨¡æ¿
```javascript
describe('[åŠŸèƒ½æè¿°]', () => {
  test('æ‡‰è©²åœ¨[éŒ¯èª¤æ¢ä»¶]æ™‚æ‹‹å‡º [ERROR_CODE]', async () => {
    // Given: [è¨­å®šéŒ¯èª¤æ¢ä»¶]
    const mockObject = new MockObject()
    mockObject.method = jest.fn().mockRejectedValue(
      new Error(`${ErrorCodes.ERROR_CODE}: [å…·é«”éŒ¯èª¤è¨Šæ¯]`)
    )

    // When: [åŸ·è¡Œæ“ä½œ]
    // Then: [é©—è­‰éŒ¯èª¤]
    await expect(mockObject.method())
      .rejects.toMatchObject({
        code: ErrorCodes.ERROR_CODE,
        message: expect.stringContaining('[é—œéµå­—]')
      })
  })

  test('é‚Šç•Œæ¢ä»¶ - [é‚Šç•Œæƒ…æ³æè¿°]', () => {
    // Given: [é‚Šç•Œæ¢ä»¶è¨­å®š]
    // When: [é‚Šç•Œæ“ä½œ]
    // Then: [é‚Šç•Œçµæœé©—è­‰]
  })

  test('ç•°å¸¸æƒ…æ³ - [ç•°å¸¸æƒ…æ³æè¿°]', async () => {
    // Given: [ç•°å¸¸æ¢ä»¶è¨­å®š]
    // When: [ç•°å¸¸æ“ä½œ]
    // Then: [ç•°å¸¸è™•ç†é©—è­‰]
  })
})
```

#### è¤‡é›œæ¥­å‹™é‚»è¼¯æ¸¬è©¦æ¨¡æ¿
```javascript
describe('[æ¥­å‹™åŠŸèƒ½] - ErrorCodes é·ç§»æ¸¬è©¦', () => {
  let mockDependency
  let testSubject

  beforeEach(() => {
    mockDependency = createMockDependency()
    testSubject = new TestSubject(mockDependency)
  })

  describe('æ­£å¸¸æµç¨‹', () => {
    test('[æ­£å¸¸æƒ…æ³æè¿°]', async () => {
      // Given, When, Then
    })
  })

  describe('éŒ¯èª¤è™•ç†', () => {
    test('æ‡‰è©²å°‡ [OLD_ERROR] é·ç§»ç‚º [NEW_ERROR_CODE]', async () => {
      // é·ç§»é©—è­‰é‚è¼¯
    })
  })

  describe('å‘å¾Œç›¸å®¹æ€§', () => {
    test('æ‡‰è©²ä¿æŒç›¸åŒçš„ä½¿ç”¨è€…é«”é©—', async () => {
      // ä½¿ç”¨è€…é«”é©—é©—è­‰
    })
  })
})
```

### Mock ç‰©ä»¶å»ºç«‹æ¨¡æ¿
```javascript
// æ¨™æº– Mock å·¥å» 
const createMockObject = (customBehavior = {}) => ({
  // é è¨­è¡Œç‚º
  defaultMethod: jest.fn().mockResolvedValue({ success: true }),
  errorMethod: jest.fn().mockRejectedValue(
    new Error(`${ErrorCodes.DEFAULT_ERROR}: é è¨­éŒ¯èª¤`)
  ),
  
  // è‡ªå®šç¾©è¡Œç‚ºè¦†è“‹
  ...customBehavior
})

// æ¸¬è©¦è³‡æ–™å·¥å» 
const createTestData = (type = 'default') => {
  const testDataTypes = {
    default: { /* é è¨­è³‡æ–™ */ },
    error: { /* éŒ¯èª¤è§¸ç™¼è³‡æ–™ */ },
    boundary: { /* é‚Šç•Œæ¢ä»¶è³‡æ–™ */ }
  }
  
  return testDataTypes[type] || testDataTypes.default
}
```

---

## ğŸ“Š å·¥ä½œè¿½è¹¤å’ŒæŒ‡æ¨™

### é€²åº¦æŒ‡æ¨™
- **æ¸¬è©¦æ¡ˆä¾‹è¨­è¨ˆ**: âœ… 100% (12/12 å€‹ä¸»è¦æ¸¬è©¦æ¡ˆä¾‹)
- **éŒ¯èª¤æ˜ å°„åˆ†æ**: âœ… 100% (15/15 å€‹éŒ¯èª¤å·²æ˜ å°„)  
- **Mock ç‰©ä»¶è¨­è¨ˆ**: âœ… 100% (æ ¸å¿ƒ Mock æ¶æ§‹å®Œæˆ)
- **æ¸¬è©¦ç’°å¢ƒè¦åŠƒ**: âœ… 100% (ç’°å¢ƒç­–ç•¥è¨­è¨ˆå®Œæˆ)

### å“è³ªæŒ‡æ¨™
- **æ¸¬è©¦è¦†è“‹å®Œæ•´æ€§**: 100% (æ­£å¸¸/é‚Šç•Œ/ç•°å¸¸æƒ…æ³éƒ½å·²æ¶µè“‹)
- **è¨­è¨ˆå•é¡Œè­˜åˆ¥**: 100% (3 å€‹ä¸»è¦è¨­è¨ˆæŒ‘æˆ°å·²è­˜åˆ¥è§£æ±º)
- **é·ç§»æ¨¡æ¿å»ºç«‹**: 100% (çµ±ä¸€æ¨¡æ¿å·²å»ºç«‹)
- **äº¤æ¥æ–‡ä»¶å®Œæ•´æ€§**: 100% (æ‰€æœ‰äº¤æ¥æ¨™æº–å·²é”æˆ)

---

**TDD Phase 2 ç‹€æ…‹**: âœ… **å®Œæˆ**  
**ä¸‹ä¸€éšæ®µ**: ğŸŸ¢ TDD Phase 3 (Green Phase) - åŠŸèƒ½å¯¦ä½œéšæ®µ  
**é è¨ˆ Phase 3 å®Œæˆæ™‚é–“**: 5-7 å€‹å·¥ä½œæ—¥  
**é—œéµäº¤ä»˜ç‰©**: 
- UC-02 å®Œæ•´æ¸¬è©¦æ¡ˆä¾‹è¨­è¨ˆ (12 å€‹æ ¸å¿ƒæ¸¬è©¦)
- ErrorCodes æ˜ å°„åˆ†æè¡¨ (15 å€‹éŒ¯èª¤å®Œæ•´æ˜ å°„)  
- çµ±ä¸€æ¸¬è©¦é·ç§»æ¨¡æ¿å’Œæœ€ä½³å¯¦è¸æŒ‡å¼•
- Mock ç‰©ä»¶æ¶æ§‹å’Œæ¸¬è©¦ç’°å¢ƒè¨­è¨ˆç­–ç•¥

---

# ğŸŸ¢ TDD Phase 3: åŠŸèƒ½å¯¦ä½œè¦åŠƒ

## ğŸ“‹ å¯¦ä½œè¦åŠƒè³‡è¨Š

- **TDD éšæ®µ**: ğŸŸ¢ Phase 3 - Green Phase (åŠŸèƒ½å¯¦ä½œ)
- **è¦åŠƒå®Œæˆæ™‚é–“**: 2025-09-16
- **å¯¦ä½œç›®æ¨™**: è®“æ‰€æœ‰ UC-02 ErrorCodes æ¸¬è©¦é€šéï¼Œé”æˆ Green ç‹€æ…‹
- **è² è²¬å–®ä½**: pepper-test-implementer (TDDå¯¦ä½œè¦åŠƒå¸«) â†’ ä¸»ç·šç¨‹åŸ·è¡Œ

## ğŸ¯ Phase 3 æ ¸å¿ƒå¯¦ä½œç›®æ¨™

### ä¸»è¦ä»»å‹™
1. **UC-02 ErrorCodes æ•´åˆå¯¦ä½œ**: å°‡15å€‹StandardErroré·ç§»è‡³ErrorCodes v5.0.0ç³»çµ±
2. **æ¸¬è©¦é©…å‹•å¯¦ä½œ**: åŸºæ–¼Phase 2çš„12å€‹æ ¸å¿ƒæ¸¬è©¦æ¡ˆä¾‹å¯¦ä½œåŠŸèƒ½
3. **æœ€å°å¯è¡Œç‰ˆæœ¬**: æ¡ç”¨æœ€ç°¡å¯¦ä½œç­–ç•¥ï¼Œç¢ºä¿æ‰€æœ‰æ¸¬è©¦é€šé
4. **å‘å¾Œç›¸å®¹æ€§**: ç¶­æŒUC-02åŠŸèƒ½å®Œæ•´æ€§ï¼Œä¸ç ´å£ç¾æœ‰ä½¿ç”¨è€…é«”é©—

### Green Phase å¯¦ä½œåŸå‰‡
- **æ¸¬è©¦å„ªå…ˆé€šé**: æ‰€æœ‰æ¸¬è©¦å¿…é ˆé”åˆ°100%é€šéç‡ (Greenç‹€æ…‹)
- **æœ€å°å¯¦ä½œç­–ç•¥**: å¯¦ä½œæœ€å°‘ç¨‹å¼ç¢¼è®“æ¸¬è©¦é€šéï¼Œé¿å…éåº¦å·¥ç¨‹
- **åŠŸèƒ½ä¿æŒä¸€è‡´**: ç¢ºä¿éŒ¯èª¤è™•ç†è¡Œç‚ºèˆ‡åŸæœ‰StandardErrorå®Œå…¨ä¸€è‡´
- **æ¬Šè¡¡æ–¹æ¡ˆæ˜ç¢º**: æ¨™è¨»æŠ€è¡“å‚µå‹™å’Œæœªä¾†æ”¹å–„æ–¹å‘

---

## ğŸ“Š å¯¦ä½œç­–ç•¥è¨­è¨ˆ

### 1. å¯¦ä½œç­–ç•¥åˆ†æ

#### **æ¼¸é€²å¼é·ç§»ç­–ç•¥ (å»ºè­°æ¡ç”¨)**
**åŸç†**: ä¸ç ´å£ç¾æœ‰åŠŸèƒ½çš„å‰æä¸‹ï¼Œé€æ­¥å¼•å…¥ErrorCodesç³»çµ±

**å„ªé»**:
- âœ… é¢¨éšªæœ€ä½ï¼Œæ¯å€‹æ­¥é©Ÿéƒ½å¯é©—è­‰
- âœ… å¯å›é€€ï¼Œå¦‚é‡å•é¡Œèƒ½ç«‹å³æ¢å¾©
- âœ… æ¸¬è©¦é€šéç‡å¯æŒçºŒä¿æŒ100%
- âœ… ä½¿ç”¨è€…é«”é©—å®Œå…¨ä¸å—å½±éŸ¿

**å¯¦ä½œæ¶æ§‹**:
```javascript
// éšæ®µ1: å»ºç«‹éŒ¯èª¤è½‰æ›å±¤ (ErrorAdapter)
class ErrorAdapter {
  static convertStandardErrorToErrorCodes(standardError) {
    const mapping = {
      'DATA_DUPLICATE_DETECTION_FAILED': ErrorCodes.VALIDATION_ERROR,
      'DATA_INCREMENTAL_UPDATE_CONFLICT': ErrorCodes.BOOK_ERROR,
      'DATA_PROGRESS_VALIDATION_ERROR': ErrorCodes.VALIDATION_ERROR,
      // ... å…¶ä»–æ˜ å°„
    }
    
    const errorCode = mapping[standardError.code] || ErrorCodes.UNKNOWN_ERROR
    const error = new Error(standardError.message)
    error.code = errorCode
    error.originalCode = standardError.code  // ä¿ç•™åŸå§‹éŒ¯èª¤ç¢¼
    error.details = standardError.details
    return error
  }
}

// éšæ®µ2: UC-02æ¨¡çµ„é€æ­¥ä½¿ç”¨æ–°ç³»çµ±
class UC02BookExtractor {
  async extractBooks() {
    try {
      // ç¾æœ‰é‚è¼¯
    } catch (originalError) {
      // å¦‚æœæ˜¯StandardErrorï¼Œè½‰æ›ç‚ºErrorCodes
      if (originalError instanceof StandardError) {
        throw ErrorAdapter.convertStandardErrorToErrorCodes(originalError)
      }
      throw originalError
    }
  }
}
```

#### **æŠ€è¡“å‚µå‹™æœ€å°åŒ–ç­–ç•¥**
**æ¬Šè¡¡æ–¹æ¡ˆæ˜ç¢ºåŒ–**:
- **å·²çŸ¥é™åˆ¶**: ErrorCodes 15å€‹é¡å‹ç„¡æ³•å®Œå…¨å€åˆ†UC-02çš„12å€‹ç‰¹å®šæƒ…å¢ƒ
- **æš«æ™‚è§£æ±º**: ä½¿ç”¨ error.message å’Œ error.details æä¾›ç²¾ç¢ºéŒ¯èª¤è³‡è¨Š
- **æœªä¾†æ”¹å–„**: Phase 4 é‡æ§‹æ™‚è€ƒæ…®ErrorCodeså­é¡å‹æˆ–æ“´å±•æ©Ÿåˆ¶

### 2. è©³ç´°å¯¦ä½œæŒ‡å¼•

#### **ç¬¬ä¸€éšæ®µå¯¦ä½œæŒ‡å¼• (ç¬¬1-2å¤©)**
**ç›®æ¨™æ¸¬è©¦ç¾¤çµ„**: VALIDATION_ERROR é¡åˆ¥éŒ¯èª¤
- `DATA_PROGRESS_VALIDATION_ERROR` â†’ `ErrorCodes.VALIDATION_ERROR`
- `DATA_DUPLICATE_DETECTION_FAILED` â†’ `ErrorCodes.VALIDATION_ERROR`

**æ ¸å¿ƒç¨‹å¼ç¢¼ç¯„ä¾‹**:
```javascript
// src/core/errors/UC02ErrorAdapter.js
export class UC02ErrorAdapter {
  // é€²åº¦é©—è­‰éŒ¯èª¤è½‰æ›
  static createProgressValidationError(invalidData) {
    const error = new Error(`é–±è®€é€²åº¦æ ¼å¼é©—è­‰å¤±æ•—`)
    error.code = ErrorCodes.VALIDATION_ERROR
    error.subType = 'PROGRESS_VALIDATION_ERROR'  
    error.details = {
      invalidProgressData: invalidData,
      correctionAttempted: true,
      originalCode: 'DATA_PROGRESS_VALIDATION_ERROR'
    }
    return error
  }

  // é‡è¤‡æª¢æ¸¬éŒ¯èª¤è½‰æ›
  static createDuplicateDetectionError(affectedBooks) {
    const error = new Error(`é‡è¤‡æ›¸ç±æª¢æ¸¬æ©Ÿåˆ¶å¤±æ•—`)
    error.code = ErrorCodes.VALIDATION_ERROR
    error.subType = 'DUPLICATE_DETECTION_FAILED'
    error.details = {
      affectedBooks: affectedBooks,
      fallbackStrategy: 'manual_review',
      originalCode: 'DATA_DUPLICATE_DETECTION_FAILED'
    }
    return error
  }
}
```

**å¯¦ä½œæ­¥é©Ÿ**:
1. å»ºç«‹ `UC02ErrorAdapter.js` æª”æ¡ˆ
2. å¯¦ä½œ 2 å€‹ VALIDATION_ERROR è½‰æ›å‡½æ•¸
3. æ›´æ–°ç›¸é—œçš„UC-02æ¨¡çµ„ä½¿ç”¨æ–°éŒ¯èª¤
4. åŸ·è¡Œå°æ‡‰æ¸¬è©¦ï¼Œç¢ºä¿é€šé

**é æœŸå•é¡Œè§£æ±ºæ–¹æ¡ˆ**:
- **å•é¡Œ**: å…©å€‹éŒ¯èª¤éƒ½æ˜ å°„åˆ°åŒä¸€å€‹ VALIDATION_ERROR
- **è§£æ±º**: ä½¿ç”¨ `subType` å±¬æ€§å’Œè©³ç´°çš„ error.message å€åˆ†
- **é©—è­‰**: æ¸¬è©¦ä¸­æª¢æŸ¥ `error.details.originalCode` ç¢ºèªæ­£ç¢ºè½‰æ›

#### **ç¬¬äºŒéšæ®µå¯¦ä½œæŒ‡å¼• (ç¬¬3-4å¤©)**
**ç›®æ¨™æ¸¬è©¦ç¾¤çµ„**: DOM_ERROR å’Œ BOOK_ERROR é¡åˆ¥
- `DOM_PAGE_STRUCTURE_CHANGED` â†’ `ErrorCodes.DOM_ERROR`
- `DOM_INFINITE_SCROLL_DETECTION_FAILED` â†’ `ErrorCodes.DOM_ERROR`
- `DATA_INCREMENTAL_UPDATE_CONFLICT` â†’ `ErrorCodes.BOOK_ERROR`

**æ ¸å¿ƒç¨‹å¼ç¢¼ç¯„ä¾‹**:
```javascript
// æ“´å±• UC02ErrorAdapter.js
export class UC02ErrorAdapter {
  // DOM éŒ¯èª¤è½‰æ›
  static createPageStructureError(detectedChanges) {
    const error = new Error(`Readmoo é é¢çµæ§‹å·²æ›´æ–°ï¼Œéœ€è¦é©æ‡‰æ–°ç‰ˆé¢`)
    error.code = ErrorCodes.DOM_ERROR
    error.subType = 'PAGE_STRUCTURE_CHANGED'
    error.details = {
      detectedChanges: detectedChanges,
      adaptationAttempted: true,
      originalCode: 'DOM_PAGE_STRUCTURE_CHANGED'
    }
    return error
  }

  // æ›¸ç±æ›´æ–°è¡çªéŒ¯èª¤
  static createIncrementalUpdateError(conflictedBooks) {
    const error = new Error(`å¢é‡æ›´æ–°æ™‚ç™¼ç”Ÿè³‡æ–™è¡çª`)
    error.code = ErrorCodes.BOOK_ERROR
    error.subType = 'INCREMENTAL_UPDATE_CONFLICT'
    error.details = {
      conflictedBooks: conflictedBooks,
      suggestedResolution: 'keep_higher_progress',
      originalCode: 'DATA_INCREMENTAL_UPDATE_CONFLICT'
    }
    return error
  }
}
```

**æ•´åˆç­–ç•¥**:
```javascript
// UC-02 ç›¸é—œæ¨¡çµ„æ›´æ–°ç¯„ä¾‹
// src/content/extractors/book-data-extractor.js
class BookDataExtractor {
  async detectDuplicateBooks(books) {
    try {
      // åŸæœ‰æª¢æ¸¬é‚è¼¯
      const result = this.duplicateDetectionEngine.detect(books)
      return result
    } catch (error) {
      // è½‰æ›ç‚º ErrorCodes ç³»çµ±
      if (error.code === 'DATA_DUPLICATE_DETECTION_FAILED') {
        throw UC02ErrorAdapter.createDuplicateDetectionError(error.details.affectedBooks)
      }
      throw error
    }
  }
}
```

#### **ç¬¬ä¸‰éšæ®µå¯¦ä½œæŒ‡å¼• (ç¬¬5-6å¤©)**
**ç›®æ¨™æ¸¬è©¦ç¾¤çµ„**: ç¶²è·¯å’Œç³»çµ±éŒ¯èª¤
- `NETWORK_RATE_LIMITING_DETECTED` â†’ `ErrorCodes.NETWORK_ERROR`
- `SYSTEM_INCREMENTAL_PROCESSING_OVERLOAD` â†’ `ErrorCodes.OPERATION_ERROR`
- `PLATFORM_CHROME_EXTENSION_CONFLICT` â†’ `ErrorCodes.CHROME_ERROR`

**é—œéµç¨‹å¼ç¢¼ç¯„ä¾‹**:
```javascript
// å®Œæ•´çš„ UC02ErrorAdapter.js
export class UC02ErrorAdapter {
  // çµ±ä¸€è½‰æ›å…¥å£
  static convertError(standardErrorCode, message, details = {}) {
    const mapping = this.getErrorMapping()
    const errorCode = mapping[standardErrorCode] || ErrorCodes.UNKNOWN_ERROR
    
    const error = new Error(message)
    error.code = errorCode
    error.subType = this.extractSubType(standardErrorCode)
    error.details = {
      ...details,
      originalCode: standardErrorCode,
      timestamp: Date.now()
    }
    
    return error
  }
  
  static getErrorMapping() {
    return {
      'DATA_DUPLICATE_DETECTION_FAILED': ErrorCodes.VALIDATION_ERROR,
      'DATA_INCREMENTAL_UPDATE_CONFLICT': ErrorCodes.BOOK_ERROR,
      'DATA_PROGRESS_VALIDATION_ERROR': ErrorCodes.VALIDATION_ERROR,
      'DOM_PAGE_STRUCTURE_CHANGED': ErrorCodes.DOM_ERROR,
      'DOM_INFINITE_SCROLL_DETECTION_FAILED': ErrorCodes.DOM_ERROR,
      'DOM_DYNAMIC_CONTENT_TIMEOUT': ErrorCodes.TIMEOUT_ERROR,
      'SYSTEM_INCREMENTAL_PROCESSING_OVERLOAD': ErrorCodes.OPERATION_ERROR,
      'SYSTEM_BACKGROUND_SYNC_FAILURE': ErrorCodes.OPERATION_ERROR,
      'NETWORK_RATE_LIMITING_DETECTED': ErrorCodes.NETWORK_ERROR,
      'NETWORK_PARTIAL_CONNECTIVITY': ErrorCodes.CONNECTION_ERROR,
      'PLATFORM_TAB_SWITCHING_INTERFERENCE': ErrorCodes.CHROME_ERROR,
      'PLATFORM_CHROME_EXTENSION_CONFLICT': ErrorCodes.CHROME_ERROR
    }
  }
}
```

### 3. APIä»‹é¢å¯¦ä½œè©³è¿°

#### **createError å’Œ createResult æ•´åˆ**
åŸºæ–¼ ErrorCodes.js ä¸­çš„ç¾æœ‰ API è¨­è¨ˆçµ±ä¸€ä»‹é¢ï¼š

```javascript
// src/core/errors/UC02ErrorFactory.js
import { ErrorCodes } from './ErrorCodes.js'

export class UC02ErrorFactory {
  /**
   * å»ºç«‹ UC-02 å°ˆç”¨éŒ¯èª¤
   * @param {string} originalCode - åŸå§‹ StandardError éŒ¯èª¤ç¢¼
   * @param {string} message - éŒ¯èª¤è¨Šæ¯  
   * @param {Object} details - éŒ¯èª¤è©³ç´°è³‡è¨Š
   * @returns {Error} ç¬¦åˆ ErrorCodes æ ¼å¼çš„éŒ¯èª¤ç‰©ä»¶
   */
  static createError(originalCode, message, details = {}) {
    const errorCode = UC02ErrorAdapter.getErrorMapping()[originalCode] 
                    || ErrorCodes.UNKNOWN_ERROR
                    
    const error = new Error(message)
    error.code = errorCode
    error.details = {
      ...details,
      originalCode: originalCode,
      severity: this.getSeverityFromCode(originalCode),
      timestamp: Date.now()
    }
    
    return error
  }
  
  /**
   * å»ºç«‹ UC-02 æ“ä½œçµæœ
   * @param {boolean} success - æ“ä½œæ˜¯å¦æˆåŠŸ
   * @param {any} data - æˆåŠŸæ™‚çš„è³‡æ–™
   * @param {Error} error - å¤±æ•—æ™‚çš„éŒ¯èª¤
   * @returns {Object} æ¨™æº–åŒ–æ“ä½œçµæœ
   */
  static createResult(success, data = null, error = null) {
    if (success) {
      return {
        success: true,
        data: data,
        code: 'SUCCESS',
        message: 'Operation completed successfully'
      }
    } else {
      return {
        success: false,
        error: error?.message || 'Operation failed',
        code: error?.code || ErrorCodes.UNKNOWN_ERROR,
        details: error?.details || {}
      }
    }
  }
  
  static getSeverityFromCode(originalCode) {
    const severityMapping = {
      'DATA_PROGRESS_VALIDATION_ERROR': 'MINOR',
      'DATA_DUPLICATE_DETECTION_FAILED': 'MODERATE', 
      'DATA_INCREMENTAL_UPDATE_CONFLICT': 'MODERATE',
      'DOM_PAGE_STRUCTURE_CHANGED': 'MODERATE',
      'NETWORK_RATE_LIMITING_DETECTED': 'MODERATE',
      'SYSTEM_INCREMENTAL_PROCESSING_OVERLOAD': 'MODERATE',
      // ... å…¶ä»–æ˜ å°„
    }
    return severityMapping[originalCode] || 'MODERATE'
  }
}
```

---

## ğŸ”§ æ¬Šå®œæ–¹æ¡ˆèˆ‡æŠ€è¡“å‚µå‹™è¦åŠƒ

### æœ€å°å¯ç”¨å¯¦ä½œæ–¹æ¡ˆ

#### **æ¬Šå®œæ–¹æ¡ˆ1: éŒ¯èª¤é¡å‹ç²¾ç¢ºæ€§ä¸è¶³**
**å•é¡Œ**: ErrorCodesçš„15å€‹é¡å‹ç„¡æ³•å®Œå…¨å€åˆ†UC-02çš„12å€‹å…·é«”éŒ¯èª¤æƒ…å¢ƒ

**æœ€å°å¯¦ä½œè§£æ±ºæ–¹æ¡ˆ**:
```javascript
// ä½¿ç”¨ subType å’Œ details æä¾›ç²¾ç¢ºè³‡è¨Š
const error = new Error(message)
error.code = ErrorCodes.VALIDATION_ERROR  // ä¸»è¦é¡åˆ¥
error.subType = 'DUPLICATE_DETECTION_FAILED'  // ç²¾ç¢ºå­é¡å‹
error.details = {
  originalCode: 'DATA_DUPLICATE_DETECTION_FAILED',  // ä¿ç•™åŸå§‹æ¨™è­˜
  severity: 'MODERATE',
  // ... å…¶ä»–è©³ç´°è³‡è¨Š
}
```

**//todo: æ”¹å–„æ–¹å‘**:
- è€ƒæ…®åœ¨ Phase 4 å¼•å…¥ ErrorCodes å­é¡å‹ç³»çµ±
- è©•ä¼°æ˜¯å¦éœ€è¦æ“´å±• ErrorCodes ç‚ºæ›´å¤šç‰¹åŒ–é¡å‹
- è¨­è¨ˆæ›´ç²¾ç´°çš„éŒ¯èª¤åˆ†é¡é«”ç³»

#### **æ¬Šå®œæ–¹æ¡ˆ2: å‘å¾Œç›¸å®¹æ€§è™•ç†**
**å•é¡Œ**: ç¾æœ‰ç¨‹å¼ç¢¼å¯èƒ½ä¾è³´ StandardError çš„ç‰¹å®šå±¬æ€§

**æœ€å°å¯¦ä½œè§£æ±ºæ–¹æ¡ˆ**:
```javascript
// ErrorAdapter æä¾›å‘å¾Œç›¸å®¹
class UC02ErrorAdapter {
  static ensureBackwardCompatibility(newError, originalStandardError) {
    // ä¿ç•™ StandardError çš„é—œéµå±¬æ€§
    if (originalStandardError.id) newError.id = originalStandardError.id
    if (originalStandardError.timestamp) newError.timestamp = originalStandardError.timestamp
    
    // æä¾› toJSON æ–¹æ³•ç›¸å®¹æ€§
    newError.toJSON = function() {
      return {
        name: this.name,
        code: this.code,
        message: this.message,
        details: this.details,
        originalCode: this.details?.originalCode
      }
    }
    
    return newError
  }
}
```

**//todo: æ”¹å–„æ–¹å‘**:
- Phase 4 çµ±ä¸€éŒ¯èª¤ç‰©ä»¶ä»‹é¢è¨­è¨ˆ
- å»ºç«‹å®Œæ•´çš„éŒ¯èª¤ç‰©ä»¶ç›¸å®¹æ€§æ¸¬è©¦
- è€ƒæ…®å»ºç«‹çµ±ä¸€çš„éŒ¯èª¤åŸºåº•é¡åˆ¥

### å·²çŸ¥é™åˆ¶è¨˜éŒ„

#### **é™åˆ¶1: æ¸¬è©¦è¦†è“‹ä¸å®Œæ•´**
**ç•¶å‰ç‹€æ³**: åŸºæ–¼ Phase 2 è¨­è¨ˆçš„ 12 å€‹æ¸¬è©¦æ¡ˆä¾‹ï¼Œä»æœ‰éƒ¨åˆ†é‚Šç•Œæƒ…æ³æœªæ¶µè“‹

**æš«æ™‚è§£æ±º**: 
- å…ˆè®“ç¾æœ‰æ¸¬è©¦100%é€šé
- æ¨™è¨»æœªæ¸¬è©¦çš„é‚Šç•Œæƒ…æ³
- åœ¨ Phase 4 è£œå¼·æ¸¬è©¦è¦†è“‹

**//todo: æ”¹å–„æ¸…å–®**:
```javascript
//todo: æ–°å¢ç¶²è·¯é–“æ­‡æ€§éŒ¯èª¤çš„é‚Šç•Œæ¸¬è©¦
//todo: æ–°å¢ DOM é¸æ“‡å™¨å¤šé‡å›é€€æ©Ÿåˆ¶æ¸¬è©¦  
//todo: æ–°å¢ä½µç™¼å»é‡æª¢æ¸¬çš„ç«¶çˆ­æ¢ä»¶æ¸¬è©¦
//todo: æ–°å¢å¤§é‡æ›¸ç±è™•ç†çš„è¨˜æ†¶é«”é™åˆ¶æ¸¬è©¦
```

#### **é™åˆ¶2: æ•ˆèƒ½å½±éŸ¿æœªé‡åŒ–**
**ç•¶å‰ç‹€æ³**: ErrorAdapter è½‰æ›å±¤å¯èƒ½å¢åŠ å°‘é‡æ•ˆèƒ½é–‹éŠ·

**æš«æ™‚è§£æ±º**: 
- æ¡ç”¨æœ€ç°¡è½‰æ›é‚è¼¯
- å¿«å–å¸¸ç”¨çš„éŒ¯èª¤æ˜ å°„
- å»¶å¾Œè¤‡é›œçš„æ•ˆèƒ½å„ªåŒ–

**//todo: æ•ˆèƒ½æ”¹å–„æ–¹å‘**:
```javascript
//todo: å»ºç«‹éŒ¯èª¤è™•ç†æ•ˆèƒ½åŸºæº–æ¸¬è©¦
//todo: å¯¦ä½œéŒ¯èª¤ç‰©ä»¶æ± (Object Pool)æ¸›å°‘è¨˜æ†¶é«”åˆ†é…
//todo: å„ªåŒ–ç†±è·¯å¾‘çš„éŒ¯èª¤å»ºç«‹é‚è¼¯
//todo: åˆ†æä¸¦æ¸›å°‘éŒ¯èª¤è©³ç´°è³‡è¨Šçš„åºåˆ—åŒ–é–‹éŠ·
```

#### **é™åˆ¶3: Chrome Extension ç’°å¢ƒç›¸å®¹æ€§**
**ç•¶å‰ç‹€æ³**: Service Worker ç’°å¢ƒå°éŒ¯èª¤è™•ç†æœ‰ç‰¹æ®Šé™åˆ¶

**æš«æ™‚è§£æ±º**: 
- ç¢ºä¿æ‰€æœ‰éŒ¯èª¤ç‰©ä»¶å¯åºåˆ—åŒ–
- é¿å…åœ¨éŒ¯èª¤ç‰©ä»¶ä¸­ä½¿ç”¨ DOM å¼•ç”¨
- æ¸¬è©¦ content script èˆ‡ background script é–“çš„éŒ¯èª¤å‚³é

**//todo: Chrome Extension ç›¸å®¹æ€§æ”¹å–„**:
```javascript
//todo: å»ºç«‹ Chrome Extension ç’°å¢ƒçš„éŒ¯èª¤åºåˆ—åŒ–æ¸¬è©¦
//todo: å¯¦ä½œ Service Worker å‹å–„çš„éŒ¯èª¤è™•ç†æ©Ÿåˆ¶
//todo: è¨­è¨ˆè·¨ context çš„éŒ¯èª¤è³‡è¨Šå‚³éç­–ç•¥
//todo: ç¢ºèª chrome.storage API å°éŒ¯èª¤ç‰©ä»¶çš„æ”¯æ´åº¦
```

### é‡æ§‹æº–å‚™ç­–ç•¥

#### **ç‚º Phase 4 é‡æ§‹æº–å‚™çš„æ”¹å–„å»ºè­°**

**1. éŒ¯èª¤åˆ†é¡é«”ç³»å„ªåŒ–**
```javascript
// Phase 4 å¯è€ƒæ…®çš„éŒ¯èª¤åˆ†é¡æ”¹é€²
const ImprovedErrorCodes = {
  // ç´°åˆ† VALIDATION_ERROR
  DATA_VALIDATION_ERROR: 'DATA_VALIDATION_ERROR',
  DUPLICATE_VALIDATION_ERROR: 'DUPLICATE_VALIDATION_ERROR', 
  PROGRESS_VALIDATION_ERROR: 'PROGRESS_VALIDATION_ERROR',
  
  // ç´°åˆ† DOM_ERROR  
  DOM_STRUCTURE_ERROR: 'DOM_STRUCTURE_ERROR',
  DOM_LOADING_ERROR: 'DOM_LOADING_ERROR',
  DOM_INTERACTION_ERROR: 'DOM_INTERACTION_ERROR',
}
```

**2. çµ±ä¸€éŒ¯èª¤è™•ç†ä¸­ä»‹è»Ÿé«”**
```javascript
// Phase 4 å¯å»ºç«‹çš„ä¸­ä»‹è»Ÿé«”ç³»çµ±
class ErrorMiddleware {
  static async processError(error, context) {
    // çµ±ä¸€éŒ¯èª¤åˆ†é¡
    // çµ±ä¸€éŒ¯èª¤è¨˜éŒ„
    // çµ±ä¸€æ¢å¾©ç­–ç•¥
    // çµ±ä¸€ä½¿ç”¨è€…é€šçŸ¥
  }
}
```

**3. éŒ¯èª¤æ¢å¾©ç­–ç•¥æ¨™æº–åŒ–**
```javascript
// Phase 4 å¯è¨­è¨ˆçš„æ¢å¾©ç­–ç•¥æ¡†æ¶
class RecoveryStrategyManager {
  static getRecoveryStrategy(errorCode, context) {
    // åŸºæ–¼éŒ¯èª¤é¡å‹å’Œæƒ…å¢ƒçš„æ™ºæ…§æ¢å¾©ç­–ç•¥
    // è‡ªå‹•é‡è©¦æ©Ÿåˆ¶
    // é™ç´šè™•ç†æ–¹æ¡ˆ
    // ä½¿ç”¨è€…ä»‹å…¥é»è¨­è¨ˆ
  }
}
```

---

## âœ… é©—è­‰èˆ‡å“è³ªä¿è­‰è¦åŠƒ

### æ¸¬è©¦é€šéç­–ç•¥

#### **12å€‹æ ¸å¿ƒæ¸¬è©¦æ¡ˆä¾‹çš„é€šéæ–¹æ³•**

**é«˜å„ªå…ˆç´šæ¸¬è©¦ (6å€‹)**:
1. **DATA_DUPLICATE_DETECTION_FAILED â†’ VALIDATION_ERROR**
   ```javascript
   // é€šéç­–ç•¥: ç¢ºä¿è½‰æ›æ­£ç¢ºä¸”è³‡è¨Šå®Œæ•´
   const error = UC02ErrorFactory.createError(
     'DATA_DUPLICATE_DETECTION_FAILED', 
     'é‡è¤‡æ›¸ç±æª¢æ¸¬æ©Ÿåˆ¶å¤±æ•—',
     { affectedBooks: mockBooks }
   )
   expect(error.code).toBe(ErrorCodes.VALIDATION_ERROR)
   expect(error.details.originalCode).toBe('DATA_DUPLICATE_DETECTION_FAILED')
   ```

2. **DATA_INCREMENTAL_UPDATE_CONFLICT â†’ BOOK_ERROR**
   ```javascript
   // é€šéç­–ç•¥: é©—è­‰è¡çªè³‡è¨Šä¿å­˜å®Œæ•´
   const error = UC02ErrorFactory.createError(
     'DATA_INCREMENTAL_UPDATE_CONFLICT',
     'å¢é‡æ›´æ–°æ™‚ç™¼ç”Ÿè³‡æ–™è¡çª', 
     { conflictedBooks: [conflictData] }
   )
   expect(error.code).toBe(ErrorCodes.BOOK_ERROR)
   expect(error.details.conflictedBooks).toEqual(expect.arrayContaining([conflictData]))
   ```

3. **DOM_PAGE_STRUCTURE_CHANGED â†’ DOM_ERROR**
   ```javascript
   // é€šéç­–ç•¥: ç¢ºä¿é é¢è®ŠåŒ–é©æ‡‰è³‡è¨Šä¿ç•™
   const error = UC02ErrorFactory.createError(
     'DOM_PAGE_STRUCTURE_CHANGED',
     'Readmoo é é¢çµæ§‹å·²æ›´æ–°',
     { detectedChanges: changesList }
   )
   expect(error.code).toBe(ErrorCodes.DOM_ERROR)
   expect(error.details.detectedChanges).toBeDefined()
   ```

**ä¸­å„ªå…ˆç´šæ¸¬è©¦ (4å€‹)**:
- ä½¿ç”¨ç›¸åŒçš„è½‰æ›ç­–ç•¥ç¢ºä¿æ‰€æœ‰ ErrorCodes æ˜ å°„æ­£ç¢º
- é©—è­‰æ‰€æœ‰éŒ¯èª¤è©³ç´°è³‡è¨Š (details) å®Œæ•´ä¿å­˜
- ç¢ºä¿å‘å¾Œç›¸å®¹æ€§ (åŸå§‹éŒ¯èª¤ç¢¼ä¿ç•™)

**ä½å„ªå…ˆç´šæ¸¬è©¦ (2å€‹)**:
- é‡é»é©—è­‰ Chrome Extension ç‰¹æœ‰éŒ¯èª¤çš„è™•ç†
- ç¢ºä¿åˆ†é åˆ‡æ›å’Œæ“´å……åŠŸèƒ½è¡çªçš„å„ªé›…è™•ç†

#### **æ¸¬è©¦åŸ·è¡Œé †åºå»ºè­°**
1. **å–®å…ƒæ¸¬è©¦å…ˆè¡Œ**: å…ˆç¢ºä¿ UC02ErrorAdapter å’Œ UC02ErrorFactory åŠŸèƒ½æ­£ç¢º
2. **æ•´åˆæ¸¬è©¦è·Ÿé€²**: é©—è­‰åœ¨å¯¦éš›UC-02æµç¨‹ä¸­çš„éŒ¯èª¤è™•ç†
3. **ç«¯å°ç«¯æ¸¬è©¦ç¢ºèª**: å®Œæ•´çš„ä½¿ç”¨è€…æƒ…å¢ƒæ¸¬è©¦

### ç¨‹å¼ç¢¼å“è³ªæª¢æŸ¥è¦åŠƒ

#### **ESLint è¦å‰‡éµå¾ª**
åŸºæ–¼ç•¶å‰å°ˆæ¡ˆ ESLint é…ç½®ï¼Œç¢ºä¿æ–°ç¨‹å¼ç¢¼ç¬¦åˆå“è³ªæ¨™æº–ï¼š

```javascript
// .eslintrc.js é‡é»è¦å‰‡éµå¾ª
module.exports = {
  rules: {
    // é¿å… no-useless-catch éŒ¯èª¤
    'no-useless-catch': 'error',
    
    // ç¢ºä¿ brace-style ä¸€è‡´æ€§
    'brace-style': ['error', '1tbs'],
    
    // é¿å…é‡è¤‡é¡åˆ¥æˆå“¡
    'no-dupe-class-members': 'error',
    
    // ç¢ºä¿éŒ¯èª¤è™•ç†å›èª¿æ­£ç¢º
    'n/handle-callback-err': 'error'
  }
}
```

**ç¨‹å¼ç¢¼å“è³ªæª¢æŸ¥é»**:
```javascript
// âœ… æ­£ç¢ºçš„éŒ¯èª¤è™•ç†æ–¹å¼
class UC02ErrorAdapter {
  static convertError(code, message, details) {
    // é¿å… no-useless-catch
    try {
      const error = this.createError(code, message, details)
      return this.validateError(error)
    } catch (err) {
      // æœ‰æ„ç¾©çš„éŒ¯èª¤è™•ç†ï¼Œä¸ç›´æ¥ throw
      console.error('Error conversion failed:', err)
      return this.createFallbackError(err)
    }
  }
  
  // é¿å… no-dupe-class-members
  static createError() { /* å¯¦ä½œ */ }
  // static createError() { /* é‡è¤‡å®šç¾©ï¼Œæœƒè¢«æª¢æ¸¬ */ } 
}
```

#### **æœ€ä½³å¯¦è¸æ‡‰ç”¨**
**æª”æ¡ˆå‘½åå’Œçµ„ç¹”**:
```
src/core/errors/
â”œâ”€â”€ ErrorCodes.js                    # å·²å­˜åœ¨
â”œâ”€â”€ UC02ErrorAdapter.js             # æ–°å¢ - éŒ¯èª¤è½‰æ›é‚è¼¯
â”œâ”€â”€ UC02ErrorFactory.js             # æ–°å¢ - éŒ¯èª¤å»ºç«‹å·¥å» 
â””â”€â”€ __tests__/
    â”œâ”€â”€ UC02ErrorAdapter.test.js     # æ–°å¢ - å–®å…ƒæ¸¬è©¦
    â””â”€â”€ UC02ErrorFactory.test.js     # æ–°å¢ - å–®å…ƒæ¸¬è©¦
```

**ç¨‹å¼ç¢¼çµæ§‹åŸå‰‡**:
- å–®ä¸€è²¬ä»»ï¼šæ¯å€‹é¡åˆ¥å°ˆæ³¨ä¸€å€‹ç‰¹å®šåŠŸèƒ½
- ä¾è³´æ³¨å…¥ï¼šé¿å…ç¡¬ç·¨ç¢¼ä¾è³´ï¼Œæ–¹ä¾¿æ¸¬è©¦
- éŒ¯èª¤è™•ç†ï¼šæ‰€æœ‰å…¬é–‹æ–¹æ³•éƒ½è¦æœ‰é©ç•¶çš„éŒ¯èª¤è™•ç†
- æ–‡æª”å®Œæ•´ï¼šæ‰€æœ‰å…¬é–‹ API éƒ½è¦æœ‰ JSDoc è¨»è§£

### é‚Šç•Œæ¢ä»¶è™•ç†è¦åŠƒ

#### **ç•°å¸¸æƒ…æ³è™•ç†ç­–ç•¥**

**1. ç„¡æ•ˆè¼¸å…¥è™•ç†**:
```javascript
class UC02ErrorAdapter {
  static convertError(code, message, details) {
    // è™•ç† null/undefined è¼¸å…¥
    if (!code || typeof code !== 'string') {
      return this.createError(
        ErrorCodes.UNKNOWN_ERROR, 
        'Invalid error code provided',
        { receivedCode: code, receivedType: typeof code }
      )
    }
    
    // è™•ç†ç„¡æ³•è­˜åˆ¥çš„éŒ¯èª¤ç¢¼
    const mapping = this.getErrorMapping()
    if (!mapping[code]) {
      return this.createError(
        ErrorCodes.UNKNOWN_ERROR,
        `Unknown error code: ${code}`,
        { unknownCode: code, availableCodes: Object.keys(mapping) }
      )
    }
    
    // æ­£å¸¸è½‰æ›é‚è¼¯
    return this.performConversion(code, message, details)
  }
}
```

**2. è¨˜æ†¶é«”é™åˆ¶è™•ç†**:
```javascript
class UC02ErrorFactory {
  static createError(code, message, details = {}) {
    // é™åˆ¶éŒ¯èª¤è©³ç´°è³‡è¨Šå¤§å°ï¼Œé¿å…è¨˜æ†¶é«”å•é¡Œ
    const safeDetails = this.sanitizeDetails(details)
    
    const error = new Error(message)
    error.code = code
    error.details = safeDetails
    
    return error
  }
  
  static sanitizeDetails(details) {
    const maxSize = 15 * 1024 // 15KB é™åˆ¶ (èˆ‡ StandardError ä¸€è‡´)
    const stringified = JSON.stringify(details)
    
    if (stringified.length > maxSize) {
      return {
        ...details,
        _truncated: true,
        _originalSize: stringified.length,
        // ç§»é™¤æˆ–æˆªæ–·éå¤§çš„å±¬æ€§
      }
    }
    
    return details
  }
}
```

**3. ç¶²è·¯å’Œæ™‚åºç›¸é—œé‚Šç•Œè™•ç†**:
```javascript
// è™•ç†ç¶²è·¯ç›¸é—œéŒ¯èª¤çš„ç‰¹æ®Šé‚Šç•Œæ¢ä»¶
class UC02NetworkErrorHandler {
  static handleRateLimitError(details) {
    // ç¢ºä¿é€€é¿å»¶é²åœ¨åˆç†ç¯„åœå…§
    const backoffDelay = Math.min(details.backoffDelay || 60000, 300000) // æœ€å¤§5åˆ†é˜
    
    return UC02ErrorFactory.createError(
      'NETWORK_RATE_LIMITING_DETECTED',
      'æª¢æ¸¬åˆ° Readmoo é »ç‡é™åˆ¶',
      {
        ...details,
        backoffDelay: backoffDelay,
        maxRetries: 3,
        safetyTimeout: backoffDelay * 1.5
      }
    )
  }
}
```

### æ•ˆèƒ½è€ƒé‡å’Œå„ªåŒ–å»ºè­°

#### **éŒ¯èª¤è™•ç†æ•ˆèƒ½è¦æ±‚**
åŸºæ–¼ StandardError çš„æ•ˆèƒ½æ¨™æº–ï¼š
- **è¨˜æ†¶é«”ä½¿ç”¨**: < 1KB per error
- **è™•ç†æ™‚é–“**: < 1ms per error  
- **åºåˆ—åŒ–å¤§å°**: < 15KB

#### **æ•ˆèƒ½å„ªåŒ–å¯¦ä½œ**:
```javascript
class UC02ErrorAdapter {
  // å¿«å–å¸¸ç”¨æ˜ å°„ï¼Œé¿å…é‡è¤‡æŸ¥æ‰¾
  static _errorMappingCache = null
  
  static getErrorMapping() {
    if (!this._errorMappingCache) {
      this._errorMappingCache = Object.freeze({
        'DATA_DUPLICATE_DETECTION_FAILED': ErrorCodes.VALIDATION_ERROR,
        'DATA_INCREMENTAL_UPDATE_CONFLICT': ErrorCodes.BOOK_ERROR,
        // ... å…¶ä»–æ˜ å°„
      })
    }
    return this._errorMappingCache
  }
  
  // é å»ºç«‹å¸¸ç”¨éŒ¯èª¤ç‰©ä»¶ï¼Œæ¸›å°‘è¨˜æ†¶é«”åˆ†é…
  static _commonErrors = new Map()
  
  static getCommonError(code) {
    if (!this._commonErrors.has(code)) {
      const mapping = this.getErrorMapping()
      const errorCode = mapping[code] || ErrorCodes.UNKNOWN_ERROR
      
      const error = Object.freeze({
        code: errorCode,
        originalCode: code,
        timestamp: null // ä½¿ç”¨æ™‚å‹•æ…‹è¨­å®š
      })
      
      this._commonErrors.set(code, error)
    }
    
    return this._commonErrors.get(code)
  }
}
```

---

## ğŸ“‹ Phase 3 åŸ·è¡Œæª¢æŸ¥æ¸…å–®

### å¯¦ä½œå‰æº–å‚™æª¢æŸ¥
- [ ] **Phase 2 äº¤æ¥ç¢ºèª**: ç¢ºèªå·²å®Œæˆ12å€‹æ¸¬è©¦æ¡ˆä¾‹è¨­è¨ˆå’Œ15å€‹éŒ¯èª¤æ˜ å°„
- [ ] **é–‹ç™¼ç’°å¢ƒæº–å‚™**: ç¢ºèª Jest, ESLint é…ç½®æ­£å¸¸
- [ ] **ç¾æœ‰ç¨‹å¼ç¢¼åˆ†æ**: ç†è§£ UC-02 ç›¸é—œæ¨¡çµ„çš„ç¾æœ‰éŒ¯èª¤è™•ç†æ–¹å¼
- [ ] **ErrorCodes.js ç†Ÿæ‚‰**: ç¢ºèªç†è§£ ErrorCodes v5.0.0 çš„ API è¨­è¨ˆ

### ç¬¬ä¸€éšæ®µå¯¦ä½œæª¢æŸ¥ (ç¬¬1-2å¤©)
- [ ] **UC02ErrorAdapter å»ºç«‹**: å»ºç«‹éŒ¯èª¤è½‰æ›æ ¸å¿ƒé¡åˆ¥
- [ ] **VALIDATION_ERROR è½‰æ›**: å¯¦ä½œé€²åº¦é©—è­‰å’Œé‡è¤‡æª¢æ¸¬éŒ¯èª¤è½‰æ›
- [ ] **å–®å…ƒæ¸¬è©¦é€šé**: å°æ‡‰çš„2å€‹æ¸¬è©¦æ¡ˆä¾‹100%é€šé
- [ ] **ç¨‹å¼ç¢¼å“è³ªç¢ºèª**: ESLint é€šéï¼Œç¬¦åˆå°ˆæ¡ˆè¦ç¯„

### ç¬¬äºŒéšæ®µå¯¦ä½œæª¢æŸ¥ (ç¬¬3-4å¤©)  
- [ ] **DOM_ERROR å¯¦ä½œ**: é é¢çµæ§‹å’Œæ»¾å‹•æª¢æ¸¬éŒ¯èª¤è½‰æ›
- [ ] **BOOK_ERROR å¯¦ä½œ**: å¢é‡æ›´æ–°è¡çªéŒ¯èª¤è½‰æ›
- [ ] **æ•´åˆæ¸¬è©¦é€šé**: DOMå’Œæ›¸ç±ç›¸é—œæ¸¬è©¦æ¡ˆä¾‹é€šé
- [ ] **å‘å¾Œç›¸å®¹æ€§é©—è­‰**: ç¾æœ‰UC-02åŠŸèƒ½å®Œå…¨æ­£å¸¸

### ç¬¬ä¸‰éšæ®µå¯¦ä½œæª¢æŸ¥ (ç¬¬5-6å¤©)
- [ ] **ç¶²è·¯éŒ¯èª¤å¯¦ä½œ**: NETWORK_ERROR å’Œ CONNECTION_ERROR è½‰æ›  
- [ ] **ç³»çµ±éŒ¯èª¤å¯¦ä½œ**: OPERATION_ERROR å’Œ CHROME_ERROR è½‰æ›
- [ ] **å®Œæ•´æ¸¬è©¦é€šé**: æ‰€æœ‰12å€‹æ ¸å¿ƒæ¸¬è©¦æ¡ˆä¾‹100%é€šé
- [ ] **ç«¯å°ç«¯é©—è­‰**: UC-02 å®Œæ•´æµç¨‹åŠŸèƒ½æ¸¬è©¦é€šé

### å¯¦ä½œå®Œæˆäº¤æ¥æª¢æŸ¥
- [ ] **æ¸¬è©¦é€šéç‡**: æ‰€æœ‰ UC-02 ç›¸é—œæ¸¬è©¦100%é€šé (Greenç‹€æ…‹)
- [ ] **åŠŸèƒ½å®Œæ•´æ€§**: UC-02 æ‰€æœ‰åŠŸèƒ½ä¿æŒåŸæœ‰è¡Œç‚º
- [ ] **ç¨‹å¼ç¢¼å“è³ª**: ESLint é€šéï¼Œç¬¦åˆå“è³ªæ¨™æº–
- [ ] **æ–‡æª”å®Œæ•´æ€§**: æ–°å¢ç¨‹å¼ç¢¼æœ‰å®Œæ•´ JSDoc è¨»è§£
- [ ] **æŠ€è¡“å‚µå‹™è¨˜éŒ„**: æ¬Šè¡¡æ–¹æ¡ˆå’Œæ”¹å–„æ–¹å‘æ˜ç¢ºè¨˜éŒ„

---

## ğŸš€ Phase 4 é‡æ§‹æº–å‚™

### é‡æ§‹æº–å‚™å»ºè­°

**æ•ˆèƒ½æœ€ä½³åŒ–æº–å‚™**:
- å»ºç«‹éŒ¯èª¤è™•ç†æ•ˆèƒ½åŸºæº–æ¸¬è©¦
- è­˜åˆ¥ç†±è·¯å¾‘çš„æ•ˆèƒ½ç“¶é ¸
- æº–å‚™éŒ¯èª¤ç‰©ä»¶æ± åŒ–ç­–ç•¥

**æ¶æ§‹æ”¹å–„æº–å‚™**:
- è©•ä¼° ErrorCodes æ“´å±•å¯è¡Œæ€§
- è¨­è¨ˆçµ±ä¸€éŒ¯èª¤ä¸­ä»‹è»Ÿé«”ç³»çµ±
- è¦åŠƒè·¨æ¨¡çµ„éŒ¯èª¤è™•ç†æ¨™æº–åŒ–

**ä½¿ç”¨è€…é«”é©—æ”¹å–„æº–å‚™**:  
- åˆ†æéŒ¯èª¤è¨Šæ¯çš„ä½¿ç”¨è€…å‹å–„åº¦
- è¨­è¨ˆéŒ¯èª¤æ¢å¾©å¼•å°æ©Ÿåˆ¶
- æº–å‚™éŒ¯èª¤é é˜²å’Œæ—©æœŸåµæ¸¬ç³»çµ±

### é æœŸäº¤æ¥çµ¦ Phase 4 çš„æˆæœ

**æŠ€è¡“å¯¦ä½œæˆæœ**:
- âœ… UC-02 å®Œæ•´ ErrorCodes é·ç§»å¯¦ä½œ
- âœ… æ‰€æœ‰æ¸¬è©¦100%é€šé (Greenç‹€æ…‹)
- âœ… å‘å¾Œç›¸å®¹æ€§å®Œå…¨ä¿æŒ
- âœ… ç¨‹å¼ç¢¼å“è³ªç¬¦åˆå°ˆæ¡ˆæ¨™æº–

**å“è³ªä¿è­‰æˆæœ**:
- âœ… 12å€‹æ ¸å¿ƒæ¸¬è©¦æ¡ˆä¾‹å…¨éƒ¨é€šé
- âœ… ESLint æª¢æŸ¥å®Œå…¨é€šé
- âœ… é‚Šç•Œæ¢ä»¶å’Œç•°å¸¸æƒ…æ³å¦¥å–„è™•ç†
- âœ… Chrome Extension ç’°å¢ƒç›¸å®¹æ€§ç¢ºèª

**æ–‡æª”å’Œå‚µå‹™è¨˜éŒ„**:
- âœ… å®Œæ•´çš„å¯¦ä½œæ–‡æª”å’Œ API èªªæ˜  
- âœ… æ˜ç¢ºçš„æŠ€è¡“å‚µå‹™æ¸…å–®å’Œæ”¹å–„æ–¹å‘
- âœ… æ•ˆèƒ½åŸºæº–å’Œå„ªåŒ–å»ºè­°
- âœ… æ¶æ§‹æ¼”é€²å’Œæ“´å±•å»ºè­°

---

## ğŸ“ˆ é æœŸæ™‚ç¨‹å’Œé‡Œç¨‹ç¢‘

### è©³ç´°æ™‚ç¨‹è¦åŠƒ

**ç¬¬1å¤© (2025-09-17)**:
- ä¸Šåˆï¼šç’°å¢ƒæº–å‚™å’Œç¾æœ‰ç¨‹å¼ç¢¼åˆ†æ
- ä¸‹åˆï¼šUC02ErrorAdapter åŸºç¤æ¡†æ¶å»ºç«‹å’Œ VALIDATION_ERROR å¯¦ä½œ

**ç¬¬2å¤© (2025-09-18)**:  
- ä¸Šåˆï¼šå®Œæˆ VALIDATION_ERROR ç›¸é—œæ¸¬è©¦é€šé
- ä¸‹åˆï¼šé–‹å§‹ DOM_ERROR å’Œ BOOK_ERROR å¯¦ä½œ

**ç¬¬3å¤© (2025-09-19)**:
- ä¸Šåˆï¼šå®Œæˆ DOM ç›¸é—œéŒ¯èª¤è½‰æ›
- ä¸‹åˆï¼šå®Œæˆæ›¸ç±æ›´æ–°è¡çªéŒ¯èª¤è™•ç†

**ç¬¬4å¤© (2025-09-20)**:
- ä¸Šåˆï¼šæ•´åˆæ¸¬è©¦å’Œå‘å¾Œç›¸å®¹æ€§é©—è­‰  
- ä¸‹åˆï¼šé–‹å§‹ç¶²è·¯å’Œç³»çµ±éŒ¯èª¤å¯¦ä½œ

**ç¬¬5å¤© (2025-09-21)**:
- ä¸Šåˆï¼šå®Œæˆæ‰€æœ‰éŒ¯èª¤è½‰æ›å¯¦ä½œ
- ä¸‹åˆï¼šå…¨æ¸¬è©¦å¥—ä»¶åŸ·è¡Œå’Œå•é¡Œä¿®å¾©

**ç¬¬6-7å¤© (2025-09-22~23)**:
- ç¨‹å¼ç¢¼å“è³ªæœ€ä½³åŒ–å’Œæ–‡æª”å®Œå–„
- ç«¯å°ç«¯æ¸¬è©¦å’Œä½¿ç”¨è€…é«”é©—é©—è­‰
- æŠ€è¡“å‚µå‹™æ•´ç†å’ŒPhase 4æº–å‚™

### æˆåŠŸæ¨™æº–ç¢ºèª

**Phase 3 Green å®Œæˆæ¨™æº–**:
- [ ] **æ¸¬è©¦é€šéç‡**: 100% (æ‰€æœ‰12å€‹æ ¸å¿ƒæ¸¬è©¦æ¡ˆä¾‹)
- [ ] **åŠŸèƒ½å®Œæ•´æ€§**: UC-02 æ‰€æœ‰ç¾æœ‰åŠŸèƒ½ä¿æŒä¸è®Š
- [ ] **ç¨‹å¼ç¢¼å“è³ª**: ESLint 0 warnings, ç¬¦åˆå°ˆæ¡ˆè¦ç¯„
- [ ] **æ•ˆèƒ½è¦æ±‚**: éŒ¯èª¤è™•ç†æ•ˆèƒ½ â‰¤ 1ms, è¨˜æ†¶é«”ä½¿ç”¨ â‰¤ 1KB
- [ ] **Chrome Extension ç›¸å®¹**: Service Worker å’Œ Content Script ç’°å¢ƒæ­£å¸¸é‹ä½œ

**äº¤æ¥ Phase 4 æº–å‚™æ¨™æº–**:
- [ ] **å¯¦ä½œæ–‡æª”**: å®Œæ•´çš„ API æ–‡æª”å’Œä½¿ç”¨ç¯„ä¾‹
- [ ] **æŠ€è¡“å‚µå‹™**: æ˜ç¢ºçš„æ”¹å–„æ–¹å‘å’Œå„ªå…ˆç´šæ’åº  
- [ ] **æ¸¬è©¦è¦†è“‹**: è­˜åˆ¥æœªæ¶µè“‹çš„é‚Šç•Œæƒ…æ³å’Œæ”¹å–„å»ºè­°
- [ ] **æ¶æ§‹å»ºè­°**: Phase 4 é‡æ§‹çš„å…·é«”æŠ€è¡“æ–¹æ¡ˆ

---

**ğŸŸ¢ TDD Phase 3 ç‹€æ…‹**: âœ… **å¯¦ä½œè¦åŠƒå®Œæˆ**  
**ä¸»ç·šç¨‹å¯¦ä½œæŒ‡å¼•**: æŒ‰ç…§ä¸Šè¿°è©³ç´°è¦åŠƒåŸ·è¡Œ UC-02 ErrorCodes é·ç§»å¯¦ä½œ  
**é è¨ˆå¯¦ä½œå®Œæˆæ™‚é–“**: 5-7 å€‹å·¥ä½œæ—¥  
**ä¸‹ä¸€éšæ®µ**: ğŸ”µ TDD Phase 4 (Refactor Phase) - ç”± cinnamon-refactor-owl è² è²¬
